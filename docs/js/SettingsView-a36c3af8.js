import{_ as b,d as u,m as p,e as c,g as _,f as r,i,q as l,s as m,u as g,F as h,k as v,b as w,c as y,o,x as k,a as L,p as D,j as C,r as S}from"./main-113b97a6.js";import{s as V}from"./settingsStore-b5228c06.js";const E={name:"SettingsView",components:{testDifficultComponent:u(()=>L(()=>import("./testDifficultComponent-65cea9cf.js"),["js/testDifficultComponent-65cea9cf.js","js/main-113b97a6.js","css/main-c8ad37bc.css","js/settingsStore-b5228c06.js","css/testDifficultComponent-1ed55145.css"])),preloaderComponent:u(()=>L(()=>import("./preloaderComponent-28714071.js"),["js/preloaderComponent-28714071.js","js/main-113b97a6.js","css/main-c8ad37bc.css","css/preloaderComponent-82881bbd.css"]))},data(){return{min:0,sec:0,localVariants:0,localLimits:{}}},watch:{timer(s){s&&this.setSettingsToLocal()}},computed:{...p(V,["timer","dictionary","limits","variants"]),...p(w,["sub"]),...p(y,["orderDifficult","isLoading"])},methods:{...c(V,["getSettings","saveTimer","saveVariants","saveLimits"]),...c(y,["setLoading"]),changeTimer(s){const{type:t}=s.target.dataset;this[t]=this[t].toString(),this[t]=this[t].replace(/^0+|\D/g,""),this[t]=this[t]>59?59:parseInt(this[t])||0,this.saveTimer(parseInt(this.min)*60+parseInt(this.sec)),s.target.style.backgroundColor="#dddd5d"},changeLimit(s,t){this.saveLimits(t,this.localLimits[t]),s.target.style.backgroundColor="#dddd5d"},setSettingsToLocal(){this.sec=(this.timer%60).toString().padStart(2,"0"),this.min=(this.timer-this.sec)/60,this.localVariants=this.variants,this.localLimits=this.limits,this.setLoading(!1)}},async mounted(){this.timer?this.setSettingsToLocal():await this.getSettings(this.sub)}},f=s=>(D("data-v-673ce805"),s=s(),C(),s),U={key:1,class:"settings"},A={class:"settings__row"},B=f(()=>i("span",null,"Ограничение по времени: ",-1)),P={class:"settings__row"},x=f(()=>i("span",null,"Количество вариантов ответов: ",-1)),F=["onUpdate:modelValue","onInput"],N={class:"container"};function O(s,t,R,j,n,a){const I=S("preloader-component"),T=S("test-difficult-component");return s.isLoading?(o(),_(I,{key:0})):(o(),r("div",U,[i("div",A,[B,i("div",null,[l(i("input",{"data-type":"min",type:"number","onUpdate:modelValue":t[0]||(t[0]=e=>n.min=e),onInput:t[1]||(t[1]=(...e)=>a.changeTimer&&a.changeTimer(...e))},null,544),[[m,n.min,void 0,{number:!0}]]),g(" мин "),l(i("input",{"data-type":"sec",type:"number","onUpdate:modelValue":t[2]||(t[2]=e=>n.sec=e),onInput:t[3]||(t[3]=(...e)=>a.changeTimer&&a.changeTimer(...e))},null,544),[[m,n.sec,void 0,{number:!0}]]),g(" сек ")])]),i("div",P,[x,i("div",null,[l(i("input",{type:"number","onUpdate:modelValue":t[4]||(t[4]=e=>n.localVariants=e),onInput:t[5]||(t[5]=e=>s.saveVariants(n.localVariants))},null,544),[[m,n.localVariants,void 0,{number:!0}]])])]),(o(!0),r(h,null,v(s.orderDifficult,e=>(o(),r("div",{class:"settings__row",key:"limit"+e},[i("span",null,"Количество вопросов "+k(e)+": ",1),i("div",null,[l(i("input",{type:"number","onUpdate:modelValue":d=>n.localLimits[e]=d,onInput:d=>a.changeLimit(d,e)},null,40,F),[[m,n.localLimits[e],void 0,{number:!0}]])])]))),128)),i("div",N,[(o(!0),r(h,null,v(s.orderDifficult,e=>(o(),_(T,{key:e,difficult:e,"part-answers":s.dictionary[e]},null,8,["difficult","part-answers"]))),128))])]))}const z=b(E,[["render",O],["__scopeId","data-v-673ce805"]]);export{z as default};
