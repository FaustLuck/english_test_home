(function(){"use strict";var t={5790:function(t,e,i){i.d(e,{w:function(){return ye}});var s=i(9242),n=i(3396),a=i.p+"img/settings.e5d69969.svg",r=i.p+"img/statistic.599363b6.svg";const o=t=>((0,n.dD)("data-v-83de3f7c"),t=t(),(0,n.Cn)(),t),l={class:"container__menu"},c={class:"menu"},d=o((()=>(0,n._)("img",{src:a},null,-1))),u=o((()=>(0,n._)("img",{src:r},null,-1)));function h(t,e,i,s,a,r){const o=(0,n.up)("router-link"),h=(0,n.up)("login-button"),g=(0,n.up)("router-view");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n._)("div",l,[(0,n._)("nav",c,[a.info.admin?((0,n.wg)(),(0,n.j4)(o,{key:0,title:"–ù–∞—Å—Ç—Ä–æ–π–∫–∏",to:"/settings"},{default:(0,n.w5)((()=>[d])),_:1})):(0,n.kq)("",!0),a.info.login?((0,n.wg)(),(0,n.j4)(o,{key:1,title:"–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞",to:"/statistic"},{default:(0,n.w5)((()=>[u])),_:1})):(0,n.kq)("",!0),a.info?((0,n.wg)(),(0,n.j4)(h,{key:2,info:a.info},null,8,["info"])):(0,n.kq)("",!0)])]),(0,n._)("form",null,[(0,n.Wm)(g)])],64)}const g=["title"],m=["src"];function p(t,e,i,s,a,r){return(0,n.wg)(),(0,n.iD)("a",{onClick:e[0]||(e[0]=(...t)=>r.loginMe&&r.loginMe(...t)),title:a.name},[(0,n._)("img",{src:a.photo},null,8,m)],8,g)}var f={name:"LoginButton",props:{info:Object},data(){return{photo:i(4966),name:"–í–æ–π—Ç–∏ —Å –ø–æ–º–æ—â—å—é Google",login:!1}},watch:{info:function(t){this.photo=t.photo?t.photo:i(4966),this.name=t.name?t.name:"–í–æ–π—Ç–∏ —Å –ø–æ–º–æ—â—å—é Google",this.login=!!t.login&&t.login}},methods:{async loginMe(){if(this.login)return;await this.$store.dispatch("login",{});let t=this.$store.getters.getUserInfo;this.photo=t.photo,this.name=t.name,this.login=t.login}}},w=i(89);const v=(0,w.Z)(f,[["render",p],["__scopeId","data-v-46dcef50"]]);var y=v,_={components:{LoginButton:y},data(){return{info:{}}},watch:{info:{handler(t){t.admin&&this.$router.replace("statistic")},deep:!0}},async created(){await this.$store.dispatch("recovery"),this.info=this.$store.getters.getUserInfo}};const k=(0,w.Z)(_,[["render",h],["__scopeId","data-v-83de3f7c"]]);var x=k,b=i(678),S=i(7139);const I=t=>((0,n.dD)("data-v-258eefbe"),t=t(),(0,n.Cn)(),t),D=["value"],q=I((()=>(0,n._)("div",null,null,-1))),C={key:0};function O(t,e,i,s,a,r){const o=(0,n.up)("loader-spinner"),l=(0,n.up)("card-item");return a.loading?((0,n.wg)(),(0,n.j4)(o,{key:0})):((0,n.wg)(),(0,n.iD)("div",{key:1,class:(0,S.C_)({fail:0==a.timerSec})},[(0,n._)("header",{class:(0,S.C_)({warning:a.timerSec>10&&a.timerSec<31,alert:a.timerSec<11&&a.timerSec>0})},[(0,n._)("input",{onClick:e[0]||(e[0]=t=>a.ready?r.cancelTest():r.createTest()),type:"button",value:a.ready?"–ó–∞–≤–µ—Ä—à–∏—Ç—å —Ç–µ—Å—Ç":"–ù–∞—á–∞—Ç—å —Ç–µ—Å—Ç"},null,8,D),(0,n._)("span",null,(0,S.zw)(a.timerString),1),q],2),a.ready?((0,n.wg)(),(0,n.iD)("div",C,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(a.order,(t=>((0,n.wg)(),(0,n.iD)("div",{key:t},[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(a.test[t],((e,i)=>((0,n.wg)(),(0,n.iD)("div",{key:e},[(0,n.Wm)(l,{index:i,item:e,mode:"test",difficult:t,onUpdateAnswers:r.updateAnswers},null,8,["index","item","difficult","onUpdateAnswers"])])))),128))])))),128))])):(0,n.kq)("",!0)],2))}var A=i.p+"img/edit.71798a50.svg",j=i.p+"img/delete.96103a4e.svg",$=i.p+"img/done.c0cf71e6.svg";const T={class:"card"},M={class:"card__item"},R={class:"card__item_container"},U=["readonly"],V={key:0,class:"card__item"},z=["name","value","checked","disabled"],E=["onClick","value"],F={key:1,class:"card__item"},P={class:"card__item_container"},H=["readonly"];function N(t,e,i,a,r,o){return(0,n.wg)(),(0,n.iD)("div",T,[(0,n._)("div",M,[(0,n._)("div",R,["test"==i.mode?((0,n.wg)(),(0,n.iD)("a",{key:0,class:"voice",onClick:e[0]||(e[0]=(...t)=>o.speech&&o.speech(...t))},"üîâ")):(0,n.kq)("",!0),(0,n.wy)((0,n._)("input",{type:"text",readonly:!r.editing,"onUpdate:modelValue":e[1]||(e[1]=t=>r.question=t),class:(0,S.C_)({editing:r.editing})},null,10,U),[[s.nr,r.question]])])]),"settings"!=i.mode?((0,n.wg)(),(0,n.iD)("div",V,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(r.answers,((t,a)=>((0,n.wg)(),(0,n.iD)("div",{class:"card__item_container",key:a},[(0,n.wy)((0,n._)("input",{type:"radio",name:i.difficult+"_"+i.index,value:t,"onUpdate:modelValue":e[2]||(e[2]=t=>r.check=t),checked:"statistic"==i.mode&&t==r.check,disabled:"statistic"==i.mode},null,8,z),[[s.G2,r.check]]),(0,n._)("input",{class:(0,S.C_)({correct:"statistic"==i.mode&&a==r.correctIndex,wrong:"statistic"==i.mode&&a!=r.correctIndex}),type:"text",readonly:"",onClick:e=>r.check=t,value:t},null,10,E)])))),128))])):((0,n.wg)(),(0,n.iD)("div",F,[(0,n._)("div",P,[(0,n.wy)((0,n._)("input",{class:(0,S.C_)({editing:r.editing}),type:"text",readonly:!r.editing,"onUpdate:modelValue":e[3]||(e[3]=t=>r.answers[0]=t)},null,10,H),[[s.nr,r.answers[0]]])])])),"settings"==i.mode?((0,n.wg)(),(0,n.iD)("div",{key:2,class:(0,S.C_)(["card__item tool",{show:r.editing}])},[r.editing?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("img",{key:0,src:A,onClick:e[4]||(e[4]=t=>r.editing=!0)})),r.editing?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("img",{key:1,src:j,onClick:e[5]||(e[5]=e=>t.$emit("deleteRecord",i.item))})),r.editing?((0,n.wg)(),(0,n.iD)("img",{key:2,src:$,onClick:e[6]||(e[6]=e=>{r.editing="newValue"==i.index||!1,t.$emit("editRecord",{answers:r.answers,question:r.question,index:i.index}),o.clear()})})):(0,n.kq)("",!0)],2)):(0,n.kq)("",!0)])}async function Z(t){try{let e=await fetch(`https://api.voicerss.org//?key=19371763f18e48789d6a3741515f4800&hl=en-gb&v=Nancy&r=-1&c=MP3&f=16khz_16bit_stereo&src=${t}`);if(e.ok){let t=await e.blob(),i=URL.createObjectURL(t);const s=new Audio(i);s.play()}}catch(e){console.log(e)}}var L={name:"CardItem",props:{item:Object,difficult:String,index:[Number,String],mode:{type:String,required:!0}},data(){return{editing:"settings"==this.mode&&"newValue"==this.index,correctIndex:0,answers:[],question:"",check:"",correct:!1}},watch:{check:function(t){if("settings"==this.mode)return;let e=t==this.answers[this.correctIndex],i={question:this.question,answer:[{answer:this.check,correct:e}]};e||i.answer.push(this.answers[this.correctIndex]),this.$emit("updateAnswers",{answer:i,difficult:this.difficult,index:this.index})},answers:{deep:!0,handler(t){let e=/[^–∞-—è–ê-–Ø—ë–Åa-zA-Z.,!?\s]/g;e.exec(t)&&(this.answers[0]=this.answers[0].replaceAll(e,""))}},question:function(t){let e=/[^–∞-—è–ê-–Ø—ë–Åa-zA-Z.,!?\s]/g;e.exec(t)&&(this.question=t.replaceAll(e,""))}},mounted(){"newValue"!=this.index&&(this.question=this.item.question,this.answers="settings"==this.mode?[this.item.answer]:[...this.item.answer],"settings"!=this.mode&&(this.correctIndex=this.item.answer.findIndex((t=>t instanceof Object)),this.answers[this.correctIndex]=this.answers[this.correctIndex].answer),"statistic"==this.mode&&(this.check=this.item.answer[this.correctIndex].answer,this.correctIndex=this.item.answer.length-1))},methods:{speech(){Z(this.question)},clear(){"newValue"==this.index&&(this.question="",this.answers[0]="")}}};const K=(0,w.Z)(L,[["render",N],["__scopeId","data-v-df6ab59e"]]);var Y=K,W={name:"TestPage",components:{CardItem:Y},data(){return{settings:{},path:"settings",timerString:"",timerSec:0,timerStart:0,counterId:"",loading:!0,ready:!1,test:{},order:[],answers:{},reason:""}},watch:{timerSec:function(t){this.timerString=this.timeToString(t),t||this.cancelTest()}},async mounted(){let t=this.$store.getters.getSettings;Object.keys(t).length||await this.$store.dispatch("getSettings"),this.settings=this.$store.getters.getSettings,this.loading=!1,this.timerSec=this.timerStart=60*this.settings.timer.min+this.settings.timer.sec,this.order=this.$store.getters.getOrder},methods:{timeToString(t){let e=(t%60).toString().padStart(2,"0"),i=(t-e)/60;return`${i}:${e}`},createTest(){this.test={};for(let t of this.order){let e=this.settings.dictionary[t],i=this.toFill(e,this.settings.tests[t]);i=i.sort(this.compare),i=this.toFillVariants(this.settings.tests[t],i,e),this.test[t]=i}this.prepareAnswers(),this.ready=!0,this.timerSec=this.timerStart,this.countdown()},compare(t,e){return t.question<e.question?-1:t.question>e.question?1:0},prepareAnswers(){this.answers={};for(let t of this.order){let e=[];for(let i of this.test[t]){let t=i.answer.findIndex((t=>t instanceof Object));e.push({question:i.question,answer:[{answer:"–ù–µ –≤—ã–±—Ä–∞–Ω–æ",correct:!1},i.answer[t].answer]})}this.answers[t]=e}},cancelTest(){clearInterval(this.counterId);let t=Object.values(this.answers).reduce(((t,e)=>t+e.length),0),e=0;for(let n of this.order)e+=this.answers[n].reduce(((t,e)=>t+e.answer.length),0);let i=this.timerStart-this.timerSec?"–¢–µ—Å—Ç –∑–∞–≤–µ—Ä—à–µ–Ω":"–í—Ä–µ–º—è –∏—Å—Ç–µ–∫–ª–æ";e=2*t-e;let s={answers:this.answers,congratulations:e==t,reason:i,"time spent":this.timeToString(this.timerStart-this.timerSec),questions:t,correctAnswers:e};this.$store.dispatch("setStatistic",s),this.timerSec?(this.ready=!1,this.$router.push("result")):setTimeout((()=>{this.ready=!1,this.$router.push("result")}),1e4)},countdown(){this.counterId=setInterval((()=>{this.timerSec--}),1e3)},getRandom(t){let e=t[Math.floor(Math.random()*t.length)];return e},toFill(t,e){let i=[],s=[...t];for(let n=0;n<e;n++){let t=this.getRandom(s);i.push(t),s=this.deleteRepeat(t,s)}return i},deleteRepeat(t,e){return e.filter((e=>t instanceof Object?e.question!=t.question:e!=t))},toFillVariants(t,e,i){for(let s=0;s<t;s++){let t={...e[s]},n=t.answer,a=this.toFill(i.map((t=>t.answer)).filter((t=>t!=n)),this.settings.variants-1);a.push(n),a.sort();let r=a.findIndex((t=>t==n));a[r]={answer:n,correct:!0},t.answer=a,e[s]={...t}}return e},updateAnswers({answer:t,difficult:e,index:i}){this.answers[e][i]=t}}};const G=(0,w.Z)(W,[["render",O],["__scopeId","data-v-258eefbe"]]);var B=G;const J=t=>((0,n.dD)("data-v-2207fa25"),t=t(),(0,n.Cn)(),t),Q={key:1},X=["onClick"],tt={class:"tests__info"},et=J((()=>(0,n._)("span",null,"–î–∞—Ç–∞ —Ç–µ—Å—Ç–∞: ",-1))),it={class:"date"},st={class:"tests__info"},nt=J((()=>(0,n._)("span",null,"–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–µ—Å—Ç–æ–≤: ",-1)));function at(t,e,i,s,a,r){const o=(0,n.up)("loader-spinner"),l=(0,n.up)("test-result");return a.loading?((0,n.wg)(),(0,n.j4)(o,{key:0})):((0,n.wg)(),(0,n.iD)("div",Q,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(a.dateArray,(t=>((0,n.wg)(),(0,n.iD)("div",{class:"tests",key:t.day,onClick:e=>{a.activeDay=t.day,a.testsOfDay=a.tests[t.day]}},[(0,n._)("div",tt,[et,(0,n._)("span",it,(0,S.zw)(t.output),1)]),(0,n._)("div",st,[nt,(0,n._)("span",null,(0,S.zw)(Object.keys(a.tests[t.day]).length),1)]),((0,n.wg)(),(0,n.j4)(n.Ob,null,[a.activeDay==t.day?((0,n.wg)(),(0,n.j4)(l,{key:0,testsFromParent:a.testsOfDay},null,8,["testsFromParent"])):(0,n.kq)("",!0)],1024))],8,X)))),128))]))}const rt=t=>((0,n.dD)("data-v-1a82d8d6"),t=t(),(0,n.Cn)(),t),ot=["onClick"],lt={class:"test__detail"},ct=rt((()=>(0,n._)("span",null," –í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ç–µ—Å—Ç–∞: ",-1))),dt={class:"time"},ut={class:"test__detail"},ht=rt((()=>(0,n._)("span",null," –ó–∞—Ç—Ä–∞—á–µ–Ω–Ω–æ–µ –≤—Ä–µ–º—è: ",-1))),gt={class:"test__detail"},mt=rt((()=>(0,n._)("span",null," –ö–æ–ª-–≤–æ –≤–µ—Ä–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤ / –≤–æ–ø—Ä–æ—Å–æ–≤: ",-1))),pt={class:"test__detail"},ft=rt((()=>(0,n._)("span",null,"–ü—Ä–∏—á–∏–Ω–∞:",-1)));function wt(t,e,i,s,a,r){const o=(0,n.up)("difficult-list");return(0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(a.tests,((t,e)=>((0,n.wg)(),(0,n.iD)("div",{class:(0,S.C_)(["test",{congratulations:t.congratulations}]),key:e,onClick:t=>a.activeTime=e},[(0,n._)("div",lt,[ct,(0,n._)("span",dt,(0,S.zw)(e),1)]),(0,n._)("div",ut,[ht,(0,n._)("span",null,(0,S.zw)(t["time spent"]),1)]),(0,n._)("div",gt,[mt,(0,n._)("span",null,(0,S.zw)(t.correctAnswers)+" / "+(0,S.zw)(t.questions),1)]),(0,n._)("div",pt,[ft,(0,n._)("span",null,(0,S.zw)(t.reason),1)]),((0,n.wg)(),(0,n.j4)(n.Ob,null,[a.activeTime===e?((0,n.wg)(),(0,n.j4)(o,{key:0,difficults:t.answers,congratulations:t.congratulations},null,8,["difficults","congratulations"])):(0,n.kq)("",!0)],1024))],10,ot)))),128)}function vt(t,e,i,s,a,r){const o=(0,n.up)("card-item");return(0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(a.order,(t=>((0,n.wg)(),(0,n.iD)("div",{class:"difficult",key:t},[(0,n._)("div",{class:(0,S.C_)(["difficult__item",{congratulations:i.congratulations}])},[(0,n._)("span",null,(0,S.zw)(t),1)],2),((0,n.wg)(),(0,n.j4)(n.Ob,null,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(i.difficults[t],((e,i)=>((0,n.wg)(),(0,n.j4)(o,{key:e.question,item:e,index:i,difficult:t,mode:"statistic"},null,8,["item","index","difficult"])))),128))],1024))])))),128)}var yt={components:{CardItem:Y},name:"DifficultList",props:{difficults:Object,congratulations:{type:Boolean,default:!1,required:!0}},data(){return{order:[]}},mounted(){this.order=this.$store.getters.getOrder}};const _t=(0,w.Z)(yt,[["render",vt],["__scopeId","data-v-62b09458"]]);var kt=_t,xt={name:"TestResult",components:{DifficultList:kt},props:{testsFromParent:Object},data(){return{activeTime:"",tests:[],timerId:0}},mounted(){void 0===this.testsFromParent?(this.tests=this.$store.getters.getAnswer,this.activeTime=Object.keys(this.tests)[0],this.tests[this.activeTime].congratulations&&this.toWait()):this.tests=this.testsFromParent},methods:{toWait(){this.timerId=setTimeout((()=>{this.$router.push("fireworks")}),5e3)}}};const bt=(0,w.Z)(xt,[["render",wt],["__scopeId","data-v-1a82d8d6"]]);var St=bt,It={name:"StatisticPage",components:{TestResult:St},data(){return{tests:{},loading:!0,activeDay:"",testsOfDay:{},dateArray:[]}},async mounted(){let t=this.$store.getters.getStatistic,e=this.$store.getters.getUserInfo.uid;this.tests=Object.keys(t).length?t:await this.$store.dispatch("getStatistic",e),this.loading=!1,this.dateArray=Object.keys(this.tests).reverse(),this.prepareDate()},methods:{prepareDate(){for(let t=0;t<this.dateArray.length;t++){let e=this.dateArray[t];e={day:e,output:e.split("-").reverse().join(".")},this.dateArray[t]=e}}}};const Dt=(0,w.Z)(It,[["render",at],["__scopeId","data-v-2207fa25"]]);var qt=Dt;const Ct=t=>((0,n.dD)("data-v-5fef7e4c"),t=t(),(0,n.Cn)(),t),Ot={key:1},At={class:"settings"},jt={class:"settings__detail"},$t=Ct((()=>(0,n._)("span",null,"–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –ø–æ –≤—Ä–µ–º–µ–Ω–∏:",-1))),Tt={class:"time"},Mt=(0,n.Uk)(" : "),Rt={class:"settings__detail"},Ut=Ct((()=>(0,n._)("span",null,"–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤:",-1))),Vt={class:"difficult"},zt=["onClick"],Et=["onUpdate:modelValue","onInput"],Ft={class:"settings__detail update"};function Pt(t,e,i,a,r,o){const l=(0,n.up)("loader-spinner"),c=(0,n.up)("card-item");return r.loading?((0,n.wg)(),(0,n.j4)(l,{key:0})):((0,n.wg)(),(0,n.iD)("div",Ot,[(0,n._)("div",At,[(0,n._)("div",jt,[$t,(0,n._)("span",Tt,[(0,n.wy)((0,n._)("input",{type:"number","onUpdate:modelValue":e[0]||(e[0]=t=>r.settings.timer.min=t)},null,512),[[s.nr,r.settings.timer.min,void 0,{number:!0}]]),Mt,(0,n.wy)((0,n._)("input",{type:"number","onUpdate:modelValue":e[1]||(e[1]=t=>r.settings.timer.sec=t),onInput:e[2]||(e[2]=t=>o.checkTime(t.target.value))},null,544),[[s.nr,r.settings.timer.sec,void 0,{number:!0}]])])]),(0,n._)("div",Rt,[Ut,(0,n._)("span",null,[(0,n.wy)((0,n._)("input",{type:"number","onUpdate:modelValue":e[3]||(e[3]=t=>r.settings.variants=t)},null,512),[[s.nr,r.settings.variants,void 0,{number:!0}]])])]),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(r.order,(t=>((0,n.wg)(),(0,n.iD)("div",{key:t},[(0,n._)("div",Vt,[r.settings.dictionary[t].length?((0,n.wg)(),(0,n.iD)("div",{key:0,class:"settings__detail",onClick:e=>r.activeIndex=t},[(0,n._)("span",null,"–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤–æ–ø—Ä–æ—Å–æ–≤ "+(0,S.zw)(t),1),(0,n._)("span",null,[(0,n.wy)((0,n._)("input",{type:"number",onClick:e[4]||(e[4]=(0,s.iM)((()=>{}),["stop"])),"onUpdate:modelValue":e=>r.settings.tests[t]=e,onInput:e=>o.checkCount(e.target.value,t)},null,40,Et),[[s.nr,r.settings.tests[t],void 0,{number:!0}]])])],8,zt)):(0,n.kq)("",!0),((0,n.wg)(),(0,n.j4)(n.Ob,null,[r.activeIndex==t?((0,n.wg)(),(0,n.j4)(c,{key:0,index:"newValue",item:{},mode:"settings",onEditRecord:o.editRecord},null,8,["onEditRecord"])):(0,n.kq)("",!0)],1024))]),r.activeIndex===t?((0,n.wg)(),(0,n.j4)(n.Ob,{key:0},[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(r.settings.dictionary[t],((t,e)=>((0,n.wg)(),(0,n.j4)(c,{key:t.question,item:t,index:e,mode:"settings",onDeleteRecord:e=>o.deleteRecord(t),onEditRecord:o.editRecord},null,8,["item","index","onDeleteRecord","onEditRecord"])))),128))],1024)):(0,n.kq)("",!0)])))),128)),(0,n._)("div",Ft,[(0,n._)("input",{type:"button",value:"–û–±–Ω–æ–≤–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏",onClick:e[5]||(e[5]=(...t)=>o.saveData&&o.saveData(...t))})])])]))}var Ht={name:"SettingsPage",components:{CardItem:Y},data(){return{order:[],settings:{},loading:!0,activeIndex:""}},methods:{checkCount(t,e){let i=this.settings.dictionary[e].length;t>i&&(this.settings.tests[e]=i)},checkTime(t){t>59&&(this.settings.timer.sec=59)},saveData(){this.$store.dispatch("setSettings",{data:this.settings})},deleteRecord(t){this.settings.dictionary[this.activeIndex]=this.settings.dictionary[this.activeIndex].filter((e=>e.question!=t.question))},editRecord(t){let e=this.settings.dictionary[this.activeIndex],i="newValue"==t.index?t.question:t.index,s=e.findIndex((t=>t.question==i));if(t.answers=t.answers[0],"newValue"==t.index){if(s>-1)return;let i={question:t.question,answer:t.answers};e.push(i)}else e[t.index].question=t.question,e[t.index].answer=t.answers}},async mounted(){let t=this.$store.getters.getSettings;Object.keys(t).length||await this.$store.dispatch("getSettings"),this.settings=this.$store.getters.getSettings,this.loading=!1,this.order=this.$store.getters.getOrder}};const Nt=(0,w.Z)(Ht,[["render",Pt],["__scopeId","data-v-5fef7e4c"]]);var Zt=Nt;const Lt={ref:"canvas"};function Kt(t,e,i,s,a,r){return(0,n.wg)(),(0,n.iD)("canvas",Lt,null,512)}function Yt(t){t.width=window.innerWidth,t.height=window.innerHeight;var e=t.getContext("2d");window.addEventListener("resize",(()=>{t.width=window.innerWidth,t.height=window.innerHeight,e.fillStyle="#000",e.fillRect(0,0,t.width,t.height)})),e.fillStyle="#000",e.fillRect(0,0,t.width,t.height);let i=[],s=[],n=20,a={x:t.width/2,y:t.height/2},r=400;for(let d=0;d<n;d++){let e={x:Math.random()*r/2-r/4+a.x,y:Math.random()*r*2+t.height,size:Math.random()+.5,fill:"#fd1",vx:Math.random()-.5,vy:-(Math.random()+4),ax:.02*Math.random()-.01,far:Math.random()*r+(a.y-r)};e.base={x:e.x,y:e.y,vx:e.vx},i.push(e)}function o(){let t=Math.floor(256*Math.random()),e=Math.floor(256*Math.random()),i=Math.floor(256*Math.random()),s="rgb($r, $g, $b)";return s=s.replace("$r",t),s=s.replace("$g",e),s=s.replace("$b",i),s}function l(){for(let t=0;t<i.length;t++){let e=i[t];if(e.y<=e.far){let t=o();for(let i=0;i<5*n;i++){let i={x:e.x,y:e.y,size:Math.random()+1.5,fill:t,vx:5*Math.random()-2.5,vy:-5*Math.random()+1.5,ay:.05,alpha:1,life:Math.round(Math.random()*r/2)+r/2};i.base={life:i.life,size:i.size},s.push(i)}e.y=e.base.y,e.x=e.base.x,e.vx=e.base.vx,e.ax=.02*Math.random()-.01}e.x+=e.vx,e.y+=e.vy,e.vx+=e.ax}for(let t=s.length-1;t>=0;t--){let e=s[t];e&&(e.x+=e.vx,e.y+=e.vy,e.vy+=e.ay,e.alpha=e.life/e.base.life,e.size=e.alpha*e.base.size,e.alpha=e.alpha>.6?1:e.alpha,e.life--,e.life<=0&&s.splice(t,1))}}function c(){e.globalCompositeOperation="source-over",e.globalAlpha=.18,e.fillStyle="#000",e.fillRect(0,0,t.width,t.height),e.globalCompositeOperation="screen",e.globalAlpha=1;for(let t=0;t<i.length;t++){let s=i[t];e.beginPath(),e.arc(s.x,s.y,s.size,0,2*Math.PI),e.closePath(),e.fillStyle=s.fill,e.fill()}for(let t=0;t<s.length;t++){let i=s[t];e.globalAlpha=i.alpha,e.beginPath(),e.arc(i.x,i.y,i.size,0,2*Math.PI),e.closePath(),e.fillStyle=i.fill,e.fill()}}(function t(){requestAnimationFrame(t),l(),c()})()}var Wt={name:"FireshowPage",mounted(){let t=this.$refs.canvas;Yt(t)}};const Gt=(0,w.Z)(Wt,[["render",Kt],["__scopeId","data-v-02e47ee4"]]);var Bt=Gt;const Jt=[{path:"/",name:"test",component:B},{path:"/statistic",name:"statistic",component:qt},{path:"/settings",name:"settings",component:Zt},{path:"/result",name:"result",component:St},{path:"/fireshow",name:"fireshow",component:Bt}],Qt=(0,b.p7)({history:(0,b.PO)("/english_test_home/"),routes:Jt});var Xt=Qt,te=i(65),ee=i(1178);function ie(){let t=new Intl.DateTimeFormat("ru-Ru",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}).format(new Date).split(", ");return t[0]=t[0].split(".").reverse().join("-"),t}var se=i(7301);function ne(t){window.localStorage.setItem("uid",t)}function ae(){return window.localStorage.getItem("uid")}var re={state:{uid:"",name:"",photo:"",login:!1,admin:!1,privileged:!1},mutations:{SAVE_INFO(t,e){t.uid=e.uid,t.name=e.displayName||e.name,t.photo=e.photoURL||e.photo,t.login=!0,t.admin=e.admin||!1}},actions:{async recovery({dispatch:t}){let e=ae();e&&await t("getUserInfo",e)},async login({dispatch:t,getters:e}){const i=ye.auth,s=new se.hJ;try{let n=await(0,se.rh)(i,s),a=n.user;await t("getUserInfo",a.uid)||t("setUserInfo",a),ne(a.uid);let r=e.getAnswer;Object.keys(r).length&&(r=r[Object.keys(r)],t("setStatistic",r))}catch(n){console.log(n)}},async getUserInfo({commit:t},e){const i=(0,ee.iH)(ye.realtime,`users/${e}`);let s=await(0,ee.U2)(i);if(s.exists()){let i=await s.val();return i.uid=e,t("SAVE_INFO",i),!0}return!1},async setUserInfo({commit:t},e){const i=(0,ee.iH)(ye.realtime,`users/${e.uid}`);(0,ee.t8)(i,{name:e.displayName,photo:e.photoURL}),t("SAVE_INFO",e)}},getters:{getUserInfo:t=>t,getLogin:t=>t.login}},oe=(0,te.MT)({state:{settings:{},statistic:{},order:["easy","medium","hard"],answer:{}},mutations:{SAVE_STATISTIC(t,e){t.statistic=e},SAVE_SETTINGS(t,e){t.settings=e},SAVE_ANSWER(t,e){t.answer=e}},actions:{async getSettings({commit:t}){const e=(0,ee.iH)(ye.realtime,"settings/");let i=await(0,ee.U2)(e);if(i.exists()){let e=i.val();t("SAVE_SETTINGS",e)}else console.log("No data available")},async getStatistic({commit:t,getters:e},i){let s=e.getUserInfo.admin;s&&(i="");const n=(0,ee.iH)(ye.realtime,`statistic/${i}`);let a=await(0,ee.U2)(n);if(a.exists()){let e=a.val();return t("SAVE_STATISTIC",e),e}console.log("No data available")},async setSettings({commit:t},e){const i=(0,ee.iH)(ye.realtime,"settings/");await(0,ee.t8)(i,e),t("SAVE_SETTINGS",e)},async setStatistic({commit:t,getters:e},i){let s=e.getUserInfo.uid,[n,a]=ie();if(s){const t=(0,ee.iH)(ye.realtime,`statistic/${s}/${n}/${a}`);await(0,ee.t8)(t,i)}i={[a]:i},t("SAVE_ANSWER",i)}},getters:{getSettings:t=>t.settings,getStatistic:t=>t.statistic,getOrder:t=>t.order,getAnswer:t=>t.answer},modules:{auth:re}});const le=t=>((0,n.dD)("data-v-2c70f580"),t=t(),(0,n.Cn)(),t),ce={class:"container__preloader"},de=le((()=>(0,n._)("div",{class:"preloader"},[(0,n._)("div",{class:"outer circle"},[(0,n._)("div",{class:"spinner"})]),(0,n._)("div",{class:"inner circle"})],-1))),ue=[de];function he(t,e,i,s,a,r){return(0,n.wg)(),(0,n.iD)("div",ce,ue)}var ge={};const me=(0,w.Z)(ge,[["render",he],["__scopeId","data-v-2c70f580"]]);var pe=me,fe=i(4275);const we={apiKey:"AIzaSyCLchFcQWRGJxElVnI0Cv7JGgAvrC8yDZ4",authDomain:"english-test-home.firebaseapp.com",projectId:"english-test-home",storageBucket:"english-test-home.appspot.com",messagingSenderId:"223596466893",appId:"1:223596466893:web:bafc299ab7409de7cccf84"},ve=(0,fe.ZF)(we),ye={realtime:(0,ee.N8)(ve),auth:(0,se.v0)(ve)};(0,s.ri)(x).use(oe).use(Xt).component("LoaderSpinner",pe).mount("#app")},4966:function(t,e,i){t.exports=i.p+"img/google.df5d4159.svg"}},e={};function i(s){var n=e[s];if(void 0!==n)return n.exports;var a=e[s]={exports:{}};return t[s](a,a.exports,i),a.exports}i.m=t,function(){var t=[];i.O=function(e,s,n,a){if(!s){var r=1/0;for(d=0;d<t.length;d++){s=t[d][0],n=t[d][1],a=t[d][2];for(var o=!0,l=0;l<s.length;l++)(!1&a||r>=a)&&Object.keys(i.O).every((function(t){return i.O[t](s[l])}))?s.splice(l--,1):(o=!1,a<r&&(r=a));if(o){t.splice(d--,1);var c=n();void 0!==c&&(e=c)}}return e}a=a||0;for(var d=t.length;d>0&&t[d-1][2]>a;d--)t[d]=t[d-1];t[d]=[s,n,a]}}(),function(){i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,{a:e}),e}}(),function(){i.d=function(t,e){for(var s in e)i.o(e,s)&&!i.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})}}(),function(){i.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){i.p="/english_test_home/"}(),function(){var t={143:0};i.O.j=function(e){return 0===t[e]};var e=function(e,s){var n,a,r=s[0],o=s[1],l=s[2],c=0;if(r.some((function(e){return 0!==t[e]}))){for(n in o)i.o(o,n)&&(i.m[n]=o[n]);if(l)var d=l(i)}for(e&&e(s);c<r.length;c++)a=r[c],i.o(t,a)&&t[a]&&t[a][0](),t[a]=0;return i.O(d)},s=self["webpackChunkenglish_test_home"]=self["webpackChunkenglish_test_home"]||[];s.forEach(e.bind(null,0)),s.push=e.bind(null,s.push.bind(s))}();var s=i.O(void 0,[998],(function(){return i(5790)}));s=i.O(s)})();
//# sourceMappingURL=app.61aef476.js.map