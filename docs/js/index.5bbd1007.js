(function(){"use strict";var e={4834:function(e,t,n){var i=n(9242),a=n(3396);function s(e,t,n,i,s,o){const r=(0,a.up)("layout-component"),u=(0,a.up)("header-component"),c=(0,a.up)("menu-component"),d=(0,a.up)("router-view");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(r),(0,a.Wm)(u),(0,a.Wm)(c),(0,a._)("form",null,[((0,a.wg)(),(0,a.j4)(d,{key:e.$route.fullPath}))])],64)}var o={components:{headerComponent:(0,a.RC)((()=>n.e(630).then(n.bind(n,7630)))),layoutComponent:(0,a.RC)((()=>n.e(350).then(n.bind(n,1350)))),menuComponent:(0,a.RC)((()=>n.e(505).then(n.bind(n,9429))))}},r=n(89);const u=(0,r.Z)(o,[["render",s]]);var c=u,d=n(2483),l=n(65),f=n(2648);const m={namespaced:!0,state:{admin:null,privileged:!1,sub:null,name:null,picture:null,tests:null},mutations:{changeLoginStatus(e,t){Object.assign(e,t)}},actions:{async googleInitialize({dispatch:e,commit:t}){google.accounts.id.initialize({client_id:await e("getID"),auto_select:!0,callback:async e=>{{const n=e.credential,i=await(0,f.W)("login",{token:n});t("changeLoginStatus",i)}}}),google.accounts.id.renderButton(document.getElementById("google"),{type:"icon",shape:"circle",theme:"outline",size:"large"}),google.accounts.id.prompt()},async getID(){return await(0,f.W)("id",null,"GET")}}},g={namespaced:!0,state:{dictionary:null,limits:null,timer:null,variants:null,isSaved:!0,editingIndex:null,editingDifficult:null,editingItem:null},mutations:{saveSettings(e,t){Object.assign(e,t)},addItem(e,{difficult:t,item:n}){n.included=!0,e.dictionary[t].push(n),e.dictionary[t].sort(((e,t)=>e.question<t.question?-1:1))},startEdit(e,{index:t,difficult:n}){Object.assign(e,{editingIndex:t,editingDifficult:n}),e.editingItem={...e.dictionary[n][t]}},clearEdit(e){e.editingIndex=null,e.editingDifficult=null,e.editingItem=null},cancelEdit(e,{index:t,difficult:n}){const{oldAnswer:i,oldQuestion:a}=e.dictionary[n][t];e.dictionary[n][t].answer=i,e.dictionary[n][t].question=a,delete e.dictionary[n][t].edited},deleteItem(e,{index:t,difficult:n}){let i=e.dictionary[n][t];i?.included?e.dictionary[n].splice(t,1):i.excluded=!0},removeIncluded(e,{index:t,difficult:n}){e.dictionary[n].splice(t,1)},returnDeletedItem(e,{index:t,difficult:n}){let i=e.dictionary[n][t];delete i.excluded},editItem(e){const t=e.editingItem,n=e.dictionary[e.editingDifficult][e.editingIndex];n.edited=!0,n?.oldAnswer||(n.oldAnswer=n.answer),n?.oldQuestion||(n.oldQuestion=n.question),Object.assign(n,t)},changeSaved(e,t){e.isSaved=t,window.onbeforeunload=t?null:()=>!1}},actions:{async getSettings({commit:e},{sub:t}){const n=await(0,f.W)(`getSettings/${t}`,null,"GET");e("saveSettings",n)},async addItem({commit:e,dispatch:t},{difficult:n,item:i}){const a=await t("checkItem",{difficult:n,item:i});a&&(e("changeSaved",!1),e("addItem",{difficult:n,item:i}))},checkItem({state:e},{difficult:t,item:n}){for(let a in n)n[a]=n[a][0].toUpperCase()+n[a].substr(1,n[a].length);const i=e.dictionary[t].findIndex((e=>e.question===n.question||e.answer===n.answer));return-1===i},deleteItem({commit:e},{index:t,difficult:n}){e("changeSaved",!1),e("deleteItem",{index:t,difficult:n})},async finishEdit({commit:e,dispatch:t}){const n=await t("isChanged");n&&(e("changeSaved",!1),e("editItem")),e("clearEdit")},isChanged({state:e}){const t=e.editingItem,n=e.dictionary[e.editingDifficult][e.editingIndex];return t.question!==n.question||t.answer!==n.answer},async saveChanges({commit:e,dispatch:t},n){const i=await t("assembleChanges");await(0,f.W)("saveChanges",{sub:n,changes:i}),await t("getSettings",{sub:n});const a=await(0,f.W)(`getSettings/${n}`,null,"GET");e("changeSaved",!0),e("saveSettings",a)},assembleChanges({state:e}){let t={};for(let n in e.dictionary){let i=e.dictionary[n].filter((e=>e.included||e.edited||e.excluded));i.length&&(t[n]=i,t[n]=t[n].map((e=>{e?.excluded&&(delete e.edited,delete e.included),e?.edited&&(delete e.oldAnswer,delete e.oldQuestion);let t=[];return t[0]=e.key??null,(e?.included||e?.edited)&&t.push(e.question,e.answer),t})))}return t}}},h={namespaced:!0,state:{statistic:null,dateList:null,users:null},mutations:{saveUsers(e,t){e.users=t?.length?t:[t]},saveDateList(e,t){e.dateList=t}},actions:{async getUsers({commit:e},{sub:t}){const n=await(0,f.W)(`getusers/${t}`,null,"GET");e("saveUsers",n)},async getDateList({commit:e},t){const n=await(0,f.W)(`getdatelist/${t}`,null,"GET");e("saveDateList",n)},async getTimeList(e,{date:t,sub:n}){return await(0,f.W)(`getTimeList/${n}/${t}`,null,"GET")},async getResult(e,{sub:t,timestamp:n}){return(0,f.W)(`getTest/${t}/${n}`,null,"GET")}}},p={namespaced:!0,state:{isTesting:!1,timeSpent:null,timestamp:null,timeLeft:null,test:null,result:null,SPEECH:null,timer:null},mutations:{saveTimes(e){e.timeSpent=e.timer-e.timeLeft;let t=new Date;e.timestamp=t.setSeconds(0,0)},changeTestStatus(e,t){e.isTesting=t},saveChoice(e,{choice:t,question:n}){let[i]=e.test.filter((e=>e.question===n));i.choice=t},saveTimerSec(e,t){e.timeLeft=t},saveTest(e,{test:t,SPEECH:n,timer:i}){Object.assign(e,{test:t,SPEECH:n,timer:i})},saveResult(e,t){Object.assign(e,{result:t})}},actions:{async getTest({commit:e},{sub:t=""}){const n=await(0,f.W)(`test/${t}`,null,"GET");e("saveTest",n)},async checkTest({state:e,commit:t},{sub:n}){let i=e.test.map((e=>(e?.answer&&delete e.answer,e)));const a=await(0,f.W)("check",{test:i,sub:n});t("saveResult",a)},async saveTest({state:e},{sub:t}){const n={test:e.result,timeSpent:e.timeSpent,timeLeft:e.timeLeft,timestamp:e.timestamp,sub:t};await(0,f.W)("updateHistory",n)}}};var b=(0,l.MT)({state:{orderDifficult:["easy","medium","hard"],menuHeight:0,isLoading:!1,mode:null,isOpen:!1},getters:{},mutations:{setMenuHeight(e,t){e.menuHeight=t},setLoading(e,t){e.isLoading=t},setMode(e,t){e.mode=t},setOpen(e,t){"settings"===e.mode&&(e.isOpen=t)}},actions:{},modules:{auth:m,settings:g,statistic:h,test:p}});const v=[{path:"/",name:"test",component:()=>n.e(140).then(n.bind(n,5395))},{path:"/result",name:"result",component:()=>n.e(267).then(n.bind(n,267))},{path:"/users",name:"users",component:()=>n.e(882).then(n.bind(n,3882))},{path:"/statistic:sub",name:"statistic",props:!0,component:()=>n.e(400).then(n.bind(n,4418))},{path:"/settings",name:"settings",component:()=>n.e(339).then(n.bind(n,4339))},{path:"/fire-show",name:"fire-show",component:()=>n.e(456).then(n.bind(n,4456))},{path:"/fail-show",name:"fail-show",component:()=>n.e(456).then(n.bind(n,4456))}],y=(0,d.p7)({history:(0,d.PO)("/english_test_home/"),routes:v});y.beforeEach((async e=>{const{sub:t}=b.state.auth;if(!["test","result"].includes(e.name)&&!t)return{name:"test"};b.commit("setMode",e.name),b.commit("setLoading",!0)}));var w=y;(0,i.ri)(c).use(b).use(w).mount("#app")},2648:function(e,t,n){function i(e){return new Intl.DateTimeFormat("ru-Ru",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}).format(new Date(parseInt(e))).split(", ")}async function a(e,t,n="POST"){""===t&&(t={});const i="POST"===n?JSON.stringify(t):null,a=await fetch(`https://englishspace-1-g1233964.deta.app/${e}`,{headers:{"Content-Type":"application/json"},method:n,body:i});return!!a.ok&&await a.json()}n.d(t,{W:function(){return a},_:function(){return i}})}},t={};function n(i){var a=t[i];if(void 0!==a)return a.exports;var s=t[i]={exports:{}};return e[i](s,s.exports,n),s.exports}n.m=e,function(){var e=[];n.O=function(t,i,a,s){if(!i){var o=1/0;for(d=0;d<e.length;d++){i=e[d][0],a=e[d][1],s=e[d][2];for(var r=!0,u=0;u<i.length;u++)(!1&s||o>=s)&&Object.keys(n.O).every((function(e){return n.O[e](i[u])}))?i.splice(u--,1):(r=!1,s<o&&(o=s));if(r){e.splice(d--,1);var c=a();void 0!==c&&(t=c)}}return t}s=s||0;for(var d=e.length;d>0&&e[d-1][2]>s;d--)e[d]=e[d-1];e[d]=[i,a,s]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}}(),function(){n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,i){return n.f[i](e,t),t}),[]))}}(),function(){n.u=function(e){return"js/"+e+"."+{83:"e345dbdc",140:"9591bfb3",267:"3802f078",280:"8a0ff716",339:"7bb0f302",340:"c89cba6b",350:"14b2bea0",362:"147f8663",370:"352bfeef",400:"4513fa85",437:"7ac5a59a",456:"9fdcf658",492:"8c40df56",505:"799ad945",630:"f2b3fbe3",676:"c2deb5fa",744:"24aa5847",822:"f31985d1",874:"3ddc2596",882:"58b0b050",926:"6e5c5c0f",979:"25746c2d",980:"83d5c67a"}[e]+".js"}}(),function(){n.miniCssF=function(e){return"css/"+e+"."+{83:"d6bb632b",140:"5a45b153",280:"37099a0e",339:"6563a34f",340:"f2d1338c",350:"944ca54c",400:"c8feed04",437:"a26468ea",456:"590bf590",492:"97e5cefc",505:"226869d1",630:"d2a93901",744:"401fc60d",822:"05a55221",874:"d4c25cd5",882:"098168d7",926:"cac8b0d7",979:"b653ed8d",980:"3f8b378e"}[e]+".css"}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="english_test_home:";n.l=function(i,a,s,o){if(e[i])e[i].push(a);else{var r,u;if(void 0!==s)for(var c=document.getElementsByTagName("script"),d=0;d<c.length;d++){var l=c[d];if(l.getAttribute("src")==i||l.getAttribute("data-webpack")==t+s){r=l;break}}r||(u=!0,r=document.createElement("script"),r.charset="utf-8",r.timeout=120,n.nc&&r.setAttribute("nonce",n.nc),r.setAttribute("data-webpack",t+s),r.src=i),e[i]=[a];var f=function(t,n){r.onerror=r.onload=null,clearTimeout(m);var a=e[i];if(delete e[i],r.parentNode&&r.parentNode.removeChild(r),a&&a.forEach((function(e){return e(n)})),t)return t(n)},m=setTimeout(f.bind(null,void 0,{type:"timeout",target:r}),12e4);r.onerror=f.bind(null,r.onerror),r.onload=f.bind(null,r.onload),u&&document.head.appendChild(r)}}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){n.p="/english_test_home/"}(),function(){var e=function(e,t,n,i){var a=document.createElement("link");a.rel="stylesheet",a.type="text/css";var s=function(s){if(a.onerror=a.onload=null,"load"===s.type)n();else{var o=s&&("load"===s.type?"missing":s.type),r=s&&s.target&&s.target.href||t,u=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");u.code="CSS_CHUNK_LOAD_FAILED",u.type=o,u.request=r,a.parentNode.removeChild(a),i(u)}};return a.onerror=a.onload=s,a.href=t,document.head.appendChild(a),a},t=function(e,t){for(var n=document.getElementsByTagName("link"),i=0;i<n.length;i++){var a=n[i],s=a.getAttribute("data-href")||a.getAttribute("href");if("stylesheet"===a.rel&&(s===e||s===t))return a}var o=document.getElementsByTagName("style");for(i=0;i<o.length;i++){a=o[i],s=a.getAttribute("data-href");if(s===e||s===t)return a}},i=function(i){return new Promise((function(a,s){var o=n.miniCssF(i),r=n.p+o;if(t(o,r))return a();e(i,r,a,s)}))},a={826:0,596:0};n.f.miniCss=function(e,t){var n={83:1,140:1,280:1,339:1,340:1,350:1,400:1,437:1,456:1,492:1,505:1,630:1,744:1,822:1,874:1,882:1,926:1,979:1,980:1};a[e]?t.push(a[e]):0!==a[e]&&n[e]&&t.push(a[e]=i(e).then((function(){a[e]=0}),(function(t){throw delete a[e],t})))}}(),function(){var e={826:0,596:0};n.f.j=function(t,i){var a=n.o(e,t)?e[t]:void 0;if(0!==a)if(a)i.push(a[2]);else{var s=new Promise((function(n,i){a=e[t]=[n,i]}));i.push(a[2]=s);var o=n.p+n.u(t),r=new Error,u=function(i){if(n.o(e,t)&&(a=e[t],0!==a&&(e[t]=void 0),a)){var s=i&&("load"===i.type?"missing":i.type),o=i&&i.target&&i.target.src;r.message="Loading chunk "+t+" failed.\n("+s+": "+o+")",r.name="ChunkLoadError",r.type=s,r.request=o,a[1](r)}};n.l(o,u,"chunk-"+t,t)}},n.O.j=function(t){return 0===e[t]};var t=function(t,i){var a,s,o=i[0],r=i[1],u=i[2],c=0;if(o.some((function(t){return 0!==e[t]}))){for(a in r)n.o(r,a)&&(n.m[a]=r[a]);if(u)var d=u(n)}for(t&&t(i);c<o.length;c++)s=o[c],n.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return n.O(d)},i=self["webpackChunkenglish_test_home"]=self["webpackChunkenglish_test_home"]||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))}();var i=n.O(void 0,[998],(function(){return n(4834)}));i=n.O(i)})();