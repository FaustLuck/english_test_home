"use strict";(self["webpackChunkenglish_test_home"]=self["webpackChunkenglish_test_home"]||[]).push([[124],{3122:function(t,s,e){e.d(s,{Z:function(){return p}});var i=e(8473);const a={class:"start_btn"},n={key:0},l=["value"],c={key:1};function o(t,s,e,o,d,r){return(0,i.wg)(),(0,i.iD)("div",a,["test"!==d.path?((0,i.wg)(),(0,i.iD)("div",n)):(0,i.kq)("",!0),(0,i._)("input",{type:"button",value:d.title,onClick:s[0]||(s[0]=(...t)=>r.changeReady&&r.changeReady(...t))},null,8,l),"test"!==d.path?((0,i.wg)(),(0,i.iD)("div",c)):(0,i.kq)("",!0)])}var d=e(299),r={name:"StartButton",data(){return{title:"Начать тест",path:this.$router.currentRoute.value.name}},computed:{...(0,d.rn)(["readyToTest"])},watch:{readyToTest:function(t){this.changeTitle(t)}},methods:{changeReady(){"/"!==this.path?this.$router.push("/"):this.$store.dispatch("changeReady",!this.readyToTest)},changeTitle(t){this.title=t?"Завершить тест":"Начать тест"}}},u=e(5312);const h=(0,u.Z)(r,[["render",o],["__scopeId","data-v-6eaf92e4"]]);var p=h},8438:function(t,s,e){e.r(s),e.d(s,{default:function(){return Y}});var i=e(8473),a=e(4887);const n={key:1},l=["onClick"],c={key:0};function o(t,s,e,o,d,r){const u=(0,i.up)("loader-spinner"),h=(0,i.up)("start-button"),p=(0,i.up)("date-list");return d.loading?((0,i.wg)(),(0,i.j4)(u,{key:0})):((0,i.wg)(),(0,i.iD)("div",n,[(0,i.Wm)(h),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(d.localStatistic,((s,e)=>((0,i.wg)(),(0,i.iD)("div",{class:(0,a.C_)(["user",{first:s.info?.priveleged}]),key:e,onClick:t=>d.activeUser=e},[(0,i._)("div",{class:(0,a.C_)(["user__info",{single:!t.login}])},[t.login?((0,i.wg)(),(0,i.iD)("span",c,"Пользователь: ")):(0,i.kq)("",!0),(0,i._)("span",null,(0,a.zw)(s.info.displayName),1)],2),((0,i.wg)(),(0,i.j4)(i.Ob,null,["result"===r.mode||d.activeUser===e?((0,i.wg)(),(0,i.j4)(p,{key:0,tests:s.statistic,mode:r.mode},null,8,["tests","mode"])):(0,i.kq)("",!0)],1024))],10,l)))),128))]))}const d=t=>((0,i.dD)("data-v-55c8de4e"),t=t(),(0,i.Cn)(),t),r=["onClick"],u={class:"tests__info"},h=d((()=>(0,i._)("span",null,"Дата теста: ",-1))),p={class:"date"},g={class:"tests__info"},m=d((()=>(0,i._)("span",null,"Количество тестов: ",-1)));function _(t,s,e,n,l,c){const o=(0,i.up)("test-result");return(0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(c.dateArray,(t=>((0,i.wg)(),(0,i.iD)("div",{class:"tests",key:t.day,onClick:s=>{l.activeDay=t.day,l.testsOfDay=e.tests[t.day]}},[(0,i._)("div",u,[h,(0,i._)("span",p,(0,a.zw)(t.output),1)]),(0,i._)("div",g,[m,(0,i._)("span",null,(0,a.zw)(c.testsOnDay(e.tests[t.day])),1)]),((0,i.wg)(),(0,i.j4)(i.Ob,null,["result"===e.mode||l.activeDay===t.day?((0,i.wg)(),(0,i.j4)(o,{key:0,tests:l.testsOfDay,mode:e.mode},null,8,["tests","mode"])):(0,i.kq)("",!0)],1024))],8,r)))),128)}const y=t=>((0,i.dD)("data-v-32edbb3a"),t=t(),(0,i.Cn)(),t),v=["onClick"],w={class:"test__detail"},f=y((()=>(0,i._)("span",null," Время выполнения теста: ",-1))),k={class:"time"},D={class:"test__detail"},b=y((()=>(0,i._)("span",null," Затраченное время: ",-1))),O={class:"test__detail"},j=y((()=>(0,i._)("span",null," Кол-во верных ответов / вопросов: ",-1))),C={class:"test__detail"},S=y((()=>(0,i._)("span",null,"Причина:",-1)));function T(t,s,e,n,l,c){const o=(0,i.up)("difficult-list");return(0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.tests,((t,s)=>((0,i.wg)(),(0,i.iD)("div",{class:(0,a.C_)(["test",{congratulations:t.congratulations}]),key:s,onClick:t=>l.activeTime=s},[(0,i._)("div",w,[f,(0,i._)("span",k,(0,a.zw)(s),1)]),(0,i._)("div",D,[b,(0,i._)("span",null,(0,a.zw)(t["time spent"]),1)]),(0,i._)("div",O,[j,(0,i._)("span",null,(0,a.zw)(t.correctAnswers)+" / "+(0,a.zw)(t.questions),1)]),(0,i._)("div",C,[S,(0,i._)("span",null,(0,a.zw)(t.reason),1)]),((0,i.wg)(),(0,i.j4)(i.Ob,null,["result"===e.mode||l.activeTime===s?((0,i.wg)(),(0,i.j4)(o,{key:0,questions:t.test,congratulations:t.congratulations},null,8,["questions","congratulations"])):(0,i.kq)("",!0)],1024))],10,v)))),128)}var R=e(8749),q={name:"TestResult",components:{DifficultList:R.Z},props:{tests:Object,mode:String},data(){return{activeTime:""}}},z=e(5312);const $=(0,z.Z)(q,[["render",T],["__scopeId","data-v-32edbb3a"]]);var Z=$,A={name:"DateList",components:{TestResult:Z},props:{tests:Object,mode:String},data(){return{activeDay:"",testsOfDay:{}}},created(){let t=Object.keys(this.tests);"result"===this.mode&&(this.testsOfDay=this.tests[t])},computed:{dateArray(){let t=Object.keys(this.tests).reverse();return this.prepareDate(t)},testsOnDay(){return t=>Object.keys(t).length}},methods:{prepareDate(t){for(let s=0;s<t.length;s++){let e=t[s];e={day:e,output:e.split("-").reverse().join(".")},t[s]=e}return t}}};const I=(0,z.Z)(A,[["render",_],["__scopeId","data-v-55c8de4e"]]);var N=I,H=e(3122),K=e(299),L={name:"StatisticPage",components:{StartButton:H.Z,DateList:N},data(){return{activeUser:"",loading:!0,localStatistic:null}},computed:{...(0,K.rn)("authorization",["uid","admin","login","displayName"]),...(0,K.rn)("statistic",["statistic"]),...(0,K.rn)(["answers"]),mode(){return this.$router.currentRoute.value.name}},watch:{statistic:function(t){"statistic"===this.mode&&t&&Object.keys(t).length&&(this.loading=!1,this.localStatistic=this.statistic)},login:async function(t){t&&"statistic"===this.mode&&await this.$store.dispatch("statistic/getStatistic",{uid:this.uid,admin:this.admin})},mode:async function(t){this.login&&"result"===this.mode&&this.$store.dispatch("setAnswer",{uid:this.uid}),"statistic"===t&&await this.$store.dispatch("statistic/getStatistic",{uid:this.uid,admin:this.admin})}},async created(){this.login&&"result"===this.mode&&(this.$store.dispatch("setAnswer",{uid:this.uid}),this.localStatistic=this.createResultStatistic(),this.loading=!1),"statistic"===this.mode&&await this.$store.dispatch("statistic/getStatistic",{uid:this.uid,admin:this.admin})},methods:{createResultStatistic(){let t={};return t[this.uid]={info:{displayName:this.login?this.displayName:"Вход не выполнен"},statistic:this.answers},t}}};const U=(0,z.Z)(L,[["render",o],["__scopeId","data-v-3dc3d8b0"]]);var Y=U}}]);
//# sourceMappingURL=124.75cd4e42.js.map