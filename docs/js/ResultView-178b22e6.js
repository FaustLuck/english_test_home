import{d as w,n as i,D as c,s as t,v as h,E as T,t as R,q as E,H as V,o as b,c as q,w as A,I as C,b as l,u as e,_ as m,p as D}from"./main-7f3d3c9a.js";const I=w({__name:"ResultView",setup(g){const p=i(()=>m(()=>import("./ResultDetail-374ae43a.js"),["js/ResultDetail-374ae43a.js","js/main-7f3d3c9a.js","css/main-a045c51a.css"])),_=i(()=>m(()=>import("./ResultHeader-4c869687.js"),["js/ResultHeader-4c869687.js","js/main-7f3d3c9a.js","css/main-a045c51a.css","js/timeToString-e34e66a4.js"])),{timestamp:f,result:o,correct:n,timeSpent:d}=c(t()),{sub:s}=c(h());T(s,async a=>{a&&await t().saveTest(s.value)}),R(async()=>{await t().getVerifiedTest(),s.value&&await t().saveTest(s.value)});const r=E(()=>o?Object.values(o.value).flat(1).length:0),v=D();function u(a){setTimeout(()=>{v.replace({name:"show",params:{nameShow:a}})},3e3)}return V(()=>{t().timeLeft===0&&u("fail"),r.value>0&&r.value===n.value&&u("fire")}),(a,x)=>(b(),q(C,{class:"pa-3 pb-5 ma-3",elevation:"5",color:"transparent",rounded:"lg"},{default:A(()=>[l(e(_),{timestamp:e(f),correct:e(n),"time-spent":e(d),questions:e(r)},null,8,["timestamp","correct","time-spent","questions"]),l(e(p),{result:e(o)},null,8,["result"])]),_:1}))}});export{I as default};
