import{B as W,d as Mt,D as wt,r as Pt,E as kt,q as St,o as _t,h as Ct,C as It}from"./main-ecb08509.js";import{_ as Tt}from"./_plugin-vue_export-helper-c27b6911.js";function At(g){[g.width,g.height]=[window.innerWidth,window.innerHeight];const t=g.getContext("2d");if(!t)return;const y=g.width,$=g.height,m=Math.round(Math.min(y,$)/4),A=Math.round(y/2),B=Math.round($/2),k=r=>r*Math.PI/180,R=(r,i)=>Math.random()*(i-r)+r,H="rgb(255, 231, 188)",G="rgb(153, 54, 0)",L="rgb(107, 38, 0)";let Y="rgb(42, 42, 42)",c="rgb(29, 29, 29)";const[e,z]=[m/3,m/10];let j=-m*11/12,S=j-m/5,D=[],Z=!1,U=1;const tt=.1;let K=1;const et={create(r,i){const l={x:r,y:i};let n={x:0,y:0,r:5};const M=Math.round(R(0,1))===1?R(0,50)*-.1:R(0,50)*.1;let C=R(-10,10);return{color:`hsl(${R(30,60)},100%,${R(50,100)}%)`,coords:{dx:M,dy:C,...n},translate:l}},draw({translate:r,coords:i,color:l}){return t.save(),t.translate(r.x,r.y),t.rotate(30*Math.PI/180),t.fillStyle=l,t.beginPath(),t.arc(i.x,i.y,i.r,0,2*Math.PI),t.fill(),t.restore(),this.update(i)},update(r){return r.r-=.05,r.x+=r.dx,r.y+=r.dy,r.dy++,r}},lt={create(r,i,l){const n={x:Math.min(r.x,i.x,l.x)*10/m,y:Math.min(r.y,i.y,l.y)*10/m};return{a:r,b:i,c:l,delta:n,translate:{x:0,y:0}}},update({delta:r,translate:i}){return i.x+=r.x,i.y+=r.y,i},draw({a:r,b:i,c:l,translate:n,delta:d}){return t.save(),t.translate(n.x,n.y),t.fillStyle="transparent",t.strokeStyle="black",t.beginPath(),t.moveTo(r.x,r.y),t.lineTo(i.x,i.y),t.lineTo(l.x,l.y),t.clip(),rt(),t.restore(),this.update({delta:d,translate:n})}};let J=[],N=1,_=[],Q=1,V=0;function rt(){if(!t)return;const r=m/4,i=Math.acos(r/(2*m));t.save(),t.beginPath(),t.fillStyle=c,t.arc(0,0,m,0,2*Math.PI),t.fill(),t.globalCompositeOperation="source-atop",t.beginPath(),t.arc(0,0,m,-i,i),t.arc(r,0,m,Math.PI-i,Math.PI+i),t.fillStyle=Y,t.fill(),t.restore()}function nt(){function r(l){if(!t)return;const n=k(120);t.beginPath(),t.ellipse(0,S,e,z,0,n*+!l,n*l||Math.PI),t.ellipse(0,j,e,z,0,n*l||Math.PI,n*+!l,!0),t.ellipse(0,S,e,z,0,n*+!l,n*+!l),t.stroke(),t.fill()}function i(l){if(!t)return;const n=k(160);t.beginPath(),t.ellipse(0,S,e,z,0,n,2*(n-Math.PI),!!l),t.stroke(),t.fill()}for(let l=0;l<2;l++){if(!t)return;t.fillStyle=l?Y:c,t.strokeStyle=l?Y:c,i(l),r(l)}}function ot(r=0,i=1,l=""){const n=k(120),d={x:0,y:S},M={x:-e/2,y:S-m/4},C={x:e/3,y:S-m/2},E={x:-e/6,y:S-m*3/4},[v,o]=[e/6,z/6];let h,p;function w(a){const x=(1-a)**3,s=3*a*(1-a)**2,f=3*a**2*(1-a),P=a**3,F=x*d.x+s*M.x+f*C.x+P*E.x,I=x*d.y+s*M.y+f*C.y+P*E.y;return[F,I]}function u(){let a,x;if(!t)return[];for(let s=r;s<=i;s+=.001)[a,x]=w(s),t.beginPath(),t.strokeStyle=l||L,t.ellipse(a,x,v,o,0,n,Math.PI),t.stroke(),t.beginPath(),t.strokeStyle=l||G,t.ellipse(a,x,v,o,0,0,n),t.stroke();return[a,x]}function b(){!t||!h||!p||(t.beginPath(),t.fillStyle=l||L,t.ellipse(h,p,v,o,0,0,2*Math.PI),t.fill())}return[h,p]=u(),b(),[h,p]}function ut(){Z=!0,rt(),nt(),ot(0,U);const r=Math.max(U,0),i=Math.min(1,U+tt);let[l,n]=ot(r,i,H);l&&n&&D.push(et.create(l,n)),D=D.filter(d=>(d.coords=et.draw(d),d.coords.r>0)),U-=tt/10}function xt(){J=J.filter(r=>(r.translate=lt.draw(r),Math.abs(r.translate.x)<y&&Math.abs(r.translate.y)<$)),S-=10,j-=10,nt(),K-=.01,Y=`rgba(42, 42, 42, ${K})`,c=`rgba(29, 29, 29, ${K})`}function yt(){if(!t)return;N-=.02;for(let l=0;l<_.length;l++){const{r:n,g:d,b:M,o:C}=_[l].color;t.fillStyle=`rgba(${n},${d},${M},${C}`;const E=_[l].pos;t.beginPath(),E.forEach(({x:v,y:o})=>{t.lineTo(v,o)}),t.fill(),_[l].pos=E.map(i),_[l].color=r(_[l].color)}_=_.filter(l=>l.pos.every(n=>Math.abs(n.x)<g.width*10&&Math.abs(n.y)<g.height*10));function r({r:l,g:n,b:d,o:M}){return{r:l,g:n-1,b:d-.5,o:M-.02}}function i({x:l,y:n}){const d=l/15,M=n/15;return{x:l+d,y:n+M}}}function mt(){if(!t)return;const r="TEST OVER";t.textBaseline="middle",t.textAlign="center",t.fillStyle="rgba(255, 255, 255, 1)",t.save();for(let i=.02;i<.1;i+=.02)t.font=`${(V-i)*16}rem Khula sans-serif`,t.fillText(r,A,B);t.restore(),t.font=`${V*16}rem Khula sans-serif`,t.fillText(r,A,B),t.font=`${V*16}rem Khula sans-serif`,t.strokeStyle="rgba(0, 0, 0, 1)",t.strokeText(r,A,B),V+=.01,Q=t.measureText(r).width}function it(){t&&(Q<A*1.5?(requestAnimationFrame(it),t.fillStyle="#000",t.fillRect(-g.width,-g.height,2*g.width,2*g.height)):setTimeout(()=>W().setAnimationStatus(!1),3e3),(D.length||!Z)&&ut(),!D.length&&K>=0&&xt(),K<.5&&N>0&&yt(),N<0&&Q===1&&(t.rotate(k(30)),t.translate(-A,-B)),N<0&&mt())}function dt(){const[r,i]=bt(m),l=[];for(let n=0;n<i.length;n+=3){const d=lt.create(r[i[n]],r[i[n+1]],r[i[n+2]]);l.push(d)}return l}function gt(r){let l=1,n=[],d=0;for(let M=0;M<r;M++){const C=R(0,2*Math.PI);n.push(C)}return n.sort(),function(){const M=100*Math.cos(n[d])*(1-l/4),C=100*Math.sin(n[d])*(1-l/4);return l*=-1,d++,{x:M,y:C}}}function pt(){var d;(d=_[_.length-1])!=null&&d.flag&&(_[_.length-1].flag=!1);let r={r:255,g:236,b:73,o:N};const i=Math.round(R(50,75)),l=gt(i);let n=[];for(let M=0;M<i;M++)n.push(l());_.push({flag:!0,pos:n,color:r})}function bt(r){const l=[],n=Math.floor(r/4);for(let o=0;o<n;o++)l.push(d(r));function d(o){const h=Math.random()*(3*o)-1.5*o,p=Math.random()*(3*o)-1.5*o;return{x:h,y:p}}function M(o){let h=o.length;if(h<3)return[];o=o.slice(0);let p=[];for(let s=0;s<h;s++)p.push(s);p.sort((s,f)=>o[s].x-o[f].x);let w=E(o);o.push(w.p1,w.p2,w.p3);let u=[C(o,h,h+1,h+2)],b=[],a=[];for(let s=p.length-1;s>=0;s--){for(let f=u.length-1;f>=0;f--){let P=o[p[s]].x-u[f].x;if(P>0&&P*P>u[f].r){b.push(u[f]),u.splice(f,1);continue}let F=o[p[s]].y-u[f].y;P*P+F*F-u[f].r>1e-7||(a.push(u[f].a,u[f].b,u[f].b,u[f].c,u[f].c,u[f].a),u.splice(f,1))}v(a);for(let f=a.length-1;f>=0;){let P=a[f];if(f--,f<0)break;let F=a[f];f--,u.push(C(o,F,P,p[s]))}a=[]}for(let s=u.length-1;s>=0;s--)b.push(u[s]);let x=[];for(let s=0;s<b.length;s++)b[s].a<h&&b[s].b<h&&b[s].c<h&&x.push(b[s].a,b[s].b,b[s].c);return x}function C(o,h,p,w){let u=o[h].x,b=o[h].y,a=o[p].x,x=o[p].y,s=o[w].x,f=o[w].y,P=Math.abs(b-x),F=Math.abs(x-f),I,T;if(P<1e-7){let O=-((s-a)/(f-x)),X=(a+s)/2,q=(x+f)/2;I=(u+a)/2,T=O*(I-X)+q}else if(F<1e-7){let O=-((a-u)/(x-b)),X=(u+a)/2,q=(b+x)/2;I=(a+s)/2,T=O*(I-X)+q}else{let O=-((a-u)/(x-b)),X=-((s-a)/(f-x)),q=(u+a)/2,ft=(b+x)/2,ct=(a+s)/2,ht=(x+f)/2;I=(O*q-X*ct+ht-ft)/(O-X),P>F?T=O*(I-q)+ft:T=X*(I-ct)+ht}let at=a-I,st=x-T;return{a:h,b:p,c:w,x:I,y:T,r:at*at+st*st}}function E(o){let h=1e6,p=-1e6,w=1e6,u=-1e6;for(let T=0;T<o.length;T++)h=Math.min(h,o[T].x),w=Math.min(w,o[T].y),p=Math.max(p,o[T].x),u=Math.max(u,o[T].y);let b=p-h,a=u-w,x=Math.max(b,a),s=b*.5+h,f=a*.5+w;const P={x:s-10*x,y:f-10*x},F={x:s,y:f+10*x},I={x:s+10*x,y:f-10*x};return{p1:P,p2:F,p3:I}}function v(o){for(let h=o.length-1;h>=0;){let p=o[h];h--;let w=o[h];h--;let u,b;for(let a=h;a>=0;){if(u=o[a],a--,b=o[a],a--,w===b&&p===u){o.splice(h+1,2),o.splice(a+1,2);break}if(w===u&&p===b){o.splice(h+1,2),o.splice(a+1,2);break}}}}return[l,M(l)]}t.translate(A,B),t.rotate(k(-30)),J=dt(),pt(),it(),W().setAnimationStatus(!0)}function $t(g){let t;g.width=window.innerWidth,g.height=window.innerHeight;const y=g.getContext("2d");if(!y)return;y.fillStyle="#000",y.fillRect(0,0,g.width,g.height);let $=[],m=[],A=20,B={x:g.width/2,y:g.height/2},k=400;for(let c=0;c<A;c++){let e={x:Math.random()*k/2-k/4+B.x,y:Math.random()*k*2+g.height,size:Math.random()+.5,fill:"#fd1",vx:Math.random()-.5,vy:-(Math.random()+4),ax:Math.random()*.02-.01,far:Math.random()*k+(B.y-k)};e.base={x:e.x,y:e.y,vx:e.vx},$.push(e)}function R(){let c=Math.floor(Math.random()*256),e=Math.floor(Math.random()*256),z=Math.floor(Math.random()*256);return`rgb(${c},${e},${z}`}function H(c){t||(t=c),c-t>5e3&&G(),L(),Y(),requestAnimationFrame(H)}function G(){let c=parseInt(getComputedStyle(g).opacity);c<=0&&W().setAnimationStatus(!1),c-=.01,g.style.opacity=String(c)}function L(){for(let c=0;c<$.length;c++){let e=$[c];if(e.y<=e.far){let z=R();for(let j=0;j<A*5;j++){let S={x:e.x,y:e.y,size:Math.random()+1.5,fill:z,vx:Math.random()*5-2.5,vy:Math.random()*-5+1.5,ay:.05,alpha:1,life:Math.round(Math.random()*k/2)+k/2};S.base={life:S.life,size:S.size},m.push(S)}e.base&&(e.y=e.base.y,e.x=e.base.x,e.vx=e.base.vx),e.ax=Math.random()*.02-.01}e.x+=e.vx,e.y+=e.vy,e.vx+=e.ax}for(let c=m.length-1;c>=0;c--){let e=m[c];e&&(e.x+=e.vx,e.y+=e.vy,e.vy+=e.ay,e.base&&(e.alpha=e.life/e.base.life,e.size=e.alpha*e.base.size),e.alpha=e.alpha>.6?1:e.alpha,e.life--,e.life<=0&&m.splice(c,1))}}function Y(){if(y){y.globalCompositeOperation="source-over",y.globalAlpha=.18,y.fillStyle="#000",y.fillRect(0,0,g.width,g.height),y.globalCompositeOperation="screen",y.globalAlpha=1;for(let c=0;c<$.length;c++){let e=$[c];y.beginPath(),y.arc(e.x,e.y,e.size,0,Math.PI*2),y.closePath(),y.fillStyle=e.fill,y.fill()}for(let c=0;c<m.length;c++){let e=m[c];y.globalAlpha=e.alpha,y.beginPath(),y.arc(e.x,e.y,e.size,0,Math.PI*2),y.closePath(),y.fillStyle=e.fill,y.fill()}}}requestAnimationFrame(H),W().setAnimationStatus(!0)}const Ft=Mt({__name:"AnimationShow",props:{nameShow:null},setup(g){const t=g,y=It(),{isAnimate:$}=wt(W()),m=Pt(null);return kt($,A=>{A||y.replace({name:"test"})}),St(()=>{if(m.value)switch(t.nameShow){case"fire":$t(m.value);break;case"fail":At(m.value);break}}),(A,B)=>(_t(),Ct("canvas",{ref_key:"canvas",ref:m},null,512))}});const zt=Tt(Ft,[["__scopeId","data-v-92c89804"]]);export{zt as default};
