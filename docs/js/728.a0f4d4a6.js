"use strict";(self["webpackChunkenglish_test_home"]=self["webpackChunkenglish_test_home"]||[]).push([[728],{5925:function(t,s,e){e.d(s,{Z:function(){return m}});var i=e(8473),a=e(4887);const n={key:0},o=["value"],l={key:1};function d(t,s,e,d,c,r){return(0,i.wg)(),(0,i.iD)("div",{class:(0,a.C_)(["start_btn",{test:"test"===r.mode}])},["test"!==r.mode?((0,i.wg)(),(0,i.iD)("div",n)):(0,i.kq)("",!0),(0,i._)("input",{type:"button",value:c.title,onClick:s[0]||(s[0]=(...t)=>r.changeReady&&r.changeReady(...t))},null,8,o),"test"!==r.mode?((0,i.wg)(),(0,i.iD)("div",l)):(0,i.kq)("",!0)],2)}var c=e(299),r={name:"StartButton",data(){return{title:"Начать тест"}},computed:{...(0,c.rn)(["readyToTest"]),mode(){return`${this.$router.currentRoute.value.name}`}},watch:{readyToTest:function(t){this.changeTitle(t)},mode:function(t){"test"!==t&&this.$store.dispatch("changeReady",!1)}},methods:{changeReady(){"test"!==this.mode?this.$router.push("/"):this.$store.dispatch("changeReady",!this.readyToTest)},changeTitle(t){this.title=t?"Завершить тест":"Начать тест"}}},u=e(5312);const h=(0,u.Z)(r,[["render",d],["__scopeId","data-v-0fd35a20"]]);var m=h},3289:function(t,s,e){e.r(s),e.d(s,{default:function(){return Y}});var i=e(8473),a=e(4887);const n={key:1},o=["onClick"],l={key:0};function d(t,s,e,d,c,r){const u=(0,i.up)("loader-spinner"),h=(0,i.up)("start-button"),m=(0,i.up)("date-list");return c.loading?((0,i.wg)(),(0,i.j4)(u,{key:0})):((0,i.wg)(),(0,i.iD)("div",n,[(0,i.Wm)(h),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(c.localStatistic,((s,e)=>((0,i.wg)(),(0,i.iD)("div",{class:(0,a.C_)(["user",{first:s.info?.priveleged}]),key:e,onClick:t=>c.activeUser=e},[(0,i._)("div",{class:(0,a.C_)(["user__info",{single:!t.login}])},[t.login?((0,i.wg)(),(0,i.iD)("span",l,"Пользователь: ")):(0,i.kq)("",!0),(0,i._)("span",null,(0,a.zw)(s.info.displayName),1)],2),((0,i.wg)(),(0,i.j4)(i.Ob,null,["result"===r.mode||c.activeUser===e?((0,i.wg)(),(0,i.j4)(m,{key:0,tests:s.statistic,mode:r.mode},null,8,["tests","mode"])):(0,i.kq)("",!0)],1024))],10,o)))),128))]))}const c=t=>((0,i.dD)("data-v-55c8de4e"),t=t(),(0,i.Cn)(),t),r=["onClick"],u={class:"tests__info"},h=c((()=>(0,i._)("span",null,"Дата теста: ",-1))),m={class:"date"},p={class:"tests__info"},g=c((()=>(0,i._)("span",null,"Количество тестов: ",-1)));function _(t,s,e,n,o,l){const d=(0,i.up)("test-result");return(0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.dateArray,(t=>((0,i.wg)(),(0,i.iD)("div",{class:"tests",key:t.day,onClick:s=>{o.activeDay=t.day,o.testsOfDay=e.tests[t.day]}},[(0,i._)("div",u,[h,(0,i._)("span",m,(0,a.zw)(t.output),1)]),(0,i._)("div",p,[g,(0,i._)("span",null,(0,a.zw)(l.testsOnDay(e.tests[t.day])),1)]),((0,i.wg)(),(0,i.j4)(i.Ob,null,["result"===e.mode||o.activeDay===t.day?((0,i.wg)(),(0,i.j4)(d,{key:0,tests:o.testsOfDay,mode:e.mode},null,8,["tests","mode"])):(0,i.kq)("",!0)],1024))],8,r)))),128)}const y=t=>((0,i.dD)("data-v-32edbb3a"),t=t(),(0,i.Cn)(),t),v=["onClick"],w={class:"test__detail"},f=y((()=>(0,i._)("span",null," Время выполнения теста: ",-1))),k={class:"time"},D={class:"test__detail"},b=y((()=>(0,i._)("span",null," Затраченное время: ",-1))),C={class:"test__detail"},O=y((()=>(0,i._)("span",null," Кол-во верных ответов / вопросов: ",-1))),j={class:"test__detail"},S=y((()=>(0,i._)("span",null,"Причина:",-1)));function T(t,s,e,n,o,l){const d=(0,i.up)("difficult-list");return(0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.tests,((t,s)=>((0,i.wg)(),(0,i.iD)("div",{class:(0,a.C_)(["test",{congratulations:t.congratulations}]),key:s,onClick:t=>o.activeTime=s},[(0,i._)("div",w,[f,(0,i._)("span",k,(0,a.zw)(s),1)]),(0,i._)("div",D,[b,(0,i._)("span",null,(0,a.zw)(t["time spent"]),1)]),(0,i._)("div",C,[O,(0,i._)("span",null,(0,a.zw)(t.correctAnswers)+" / "+(0,a.zw)(t.questions),1)]),(0,i._)("div",j,[S,(0,i._)("span",null,(0,a.zw)(t.reason),1)]),((0,i.wg)(),(0,i.j4)(i.Ob,null,["result"===e.mode||o.activeTime===s?((0,i.wg)(),(0,i.j4)(d,{key:0,questions:t.test,congratulations:t.congratulations},null,8,["questions","congratulations"])):(0,i.kq)("",!0)],1024))],10,v)))),128)}var R=e(9322),$={name:"TestResult",components:{DifficultList:R.Z},props:{tests:Object,mode:String},data(){return{activeTime:""}}},q=e(5312);const z=(0,q.Z)($,[["render",T],["__scopeId","data-v-32edbb3a"]]);var Z=z,A={name:"DateList",components:{TestResult:Z},props:{tests:Object,mode:String},data(){return{activeDay:"",testsOfDay:{}}},created(){let t=Object.keys(this.tests);"result"===this.mode&&(this.testsOfDay=this.tests[t])},computed:{dateArray(){let t=Object.keys(this.tests).reverse();return this.prepareDate(t)},testsOnDay(){return t=>Object.keys(t).length}},methods:{prepareDate(t){for(let s=0;s<t.length;s++){let e=t[s];e={day:e,output:e.split("-").reverse().join(".")},t[s]=e}return t}}};const I=(0,q.Z)(A,[["render",_],["__scopeId","data-v-55c8de4e"]]);var N=I,U=e(5925),H=e(299),K={name:"StatisticPage",components:{StartButton:U.Z,DateList:N},data(){return{activeUser:"",loading:!0,localStatistic:null}},computed:{...(0,H.rn)("authorization",["uid","admin","login","displayName"]),...(0,H.rn)("statistic",["statistic"]),...(0,H.rn)(["answers"]),mode(){return this.$router.currentRoute.value.name}},watch:{statistic:function(t){"statistic"===this.mode&&t&&Object.keys(t).length&&(this.loading=!1,this.localStatistic=this.statistic)},login:async function(t){t&&"statistic"===this.mode&&await this.$store.dispatch("statistic/getStatistic",{uid:this.uid,admin:this.admin})},mode:async function(t){this.login&&"result"===this.mode&&this.$store.dispatch("setAnswer",{uid:this.uid}),"statistic"===t&&await this.$store.dispatch("statistic/getStatistic",{uid:this.uid,admin:this.admin})},loading:function(t){t||"result"===this.mode&&(this.activeUser=this.uid)}},async created(){this.login&&"result"===this.mode&&(this.$store.dispatch("setAnswer",{uid:this.uid}),this.localStatistic=this.createResultStatistic(),this.loading=!1),"statistic"===this.mode&&await this.$store.dispatch("statistic/getStatistic",{uid:this.uid,admin:this.admin})},methods:{createResultStatistic(){let t={};return t[this.uid]={info:{displayName:this.login?this.displayName:"Вход не выполнен"},statistic:this.answers},t}}};const L=(0,q.Z)(K,[["render",d],["__scopeId","data-v-587bd500"]]);var Y=L}}]);
//# sourceMappingURL=728.a0f4d4a6.js.map