"use strict";(self["webpackChunkenglish_test_home"]=self["webpackChunkenglish_test_home"]||[]).push([[955],{9322:function(e,t,i){i.d(t,{Z:function(){return $}});var d=i(8473),n=i(4887),o=i(9197);const s={key:1,class:"difficult__container settings"},c={class:"difficult__container_item"},r=["onUpdate:modelValue","onBlur","onInput"];function l(e,t,i,l,a,m){const u=(0,d.up)("card-container");return(0,d.wg)(!0),(0,d.iD)(d.HY,null,(0,d.Ko)(a.order,(e=>((0,d.wg)(),(0,d.iD)("div",{class:"difficult",key:e},[["statistic","result"].includes(m.mode)?((0,d.wg)(),(0,d.iD)("div",{key:0,class:(0,n.C_)(["difficult__container",{congratulations:i.congratulations}])},[(0,d._)("span",null,(0,n.zw)(e),1)],2)):(0,d.kq)("",!0),"settings"===m.mode&&i.questions[e].length?((0,d.wg)(),(0,d.iD)("div",s,[(0,d._)("div",c,[(0,d._)("span",null,"Количество вопросов "+(0,n.zw)(e),1),(0,d._)("span",null,[(0,d.wy)((0,d._)("input",{type:"number","onUpdate:modelValue":t=>a.localLimits[e]=t,onBlur:t=>m.updateLimit(e),onInput:t=>m.checkCount(t.target.value,e)},null,40,r),[[o.nr,a.localLimits[e],void 0,{number:!0}]])])]),(0,d.Wm)(u,{item:a.newItem[e],difficult:e,index:-1,mode:m.mode,onUpdateNewItem:({prop:t,record:i})=>a.newItem[e][t]=i,onAddRecord:t=>m.addRecord(e)},null,8,["item","difficult","mode","onUpdateNewItem","onAddRecord"])])):(0,d.kq)("",!0),((0,d.wg)(!0),(0,d.iD)(d.HY,null,(0,d.Ko)(i.questions[e],((t,i)=>((0,d.wg)(),(0,d.iD)("div",{key:t.question},[(0,d.Wm)(u,{item:t,difficult:e,index:i,mode:m.mode},null,8,["item","difficult","index","mode"])])))),128))])))),128)}const a={class:"container"};function m(e,t,i,n,o,s){const c=(0,d.up)("card-item"),r=(0,d.up)("tool-menu");return(0,d.wg)(),(0,d.iD)("div",a,[((0,d.wg)(),(0,d.j4)(c,{key:i.item.question,prop:"question",item:i.item.question,index:i.index,difficult:i.difficult,mode:i.mode,editing:o.editing,onEditRecord:s.editRecord},null,8,["item","index","difficult","mode","editing","onEditRecord"])),(0,d._)("div",null,[((0,d.wg)(!0),(0,d.iD)(d.HY,null,(0,d.Ko)(s.localAnswer(i.item.answer),((e,t)=>((0,d.wg)(),(0,d.j4)(c,{key:e,prop:"answer",item:e,index:i.index,difficult:i.difficult,variant:t,checked:s.checked(t),correct:i.item.index===t,mode:i.mode,editing:o.editing,onEditRecord:s.editRecord},null,8,["item","index","difficult","variant","checked","correct","mode","editing","onEditRecord"])))),128))]),"settings"===i.mode?((0,d.wg)(),(0,d.j4)(r,{key:0,index:i.index,onAddRecord:t[0]||(t[0]=()=>this.$emit("addRecord")),onChangeEditing:t[1]||(t[1]=e=>this.editing=e),onDeleteRecord:s.deleteRecord},null,8,["index","onDeleteRecord"])):(0,d.kq)("",!0)])}const u=["name","value","checked","disabled"],h=["readonly"];function g(e,t,i,s,c,r){return(0,d.wg)(),(0,d.iD)("label",{onClick:t[5]||(t[5]=(...e)=>r.update&&r.update(...e)),class:"item"},[/[a-zA-Z]/g.test(i.item)&&"test"===i.mode?((0,d.wg)(),(0,d.iD)("a",{key:0,onClick:t[0]||(t[0]=(...e)=>r.toSpeech&&r.toSpeech(...e))},"🔉")):(0,d.kq)("",!0),"settings"!==i.mode&&"answer"===i.prop?(0,d.wy)(((0,d.wg)(),(0,d.iD)("input",{key:1,type:"radio",class:(0,n.C_)({}),name:i.difficult+"_"+i.index,value:c.localItem,"onUpdate:modelValue":t[1]||(t[1]=e=>c.check=e),checked:i.checked,disabled:r.disabled},null,8,u)),[[o.G2,c.check]]):(0,d.kq)("",!0),(0,d.wy)((0,d._)("input",{onClick:t[2]||(t[2]=(...e)=>r.toSpeech&&r.toSpeech(...e)),type:"text",class:(0,n.C_)({editing:i.editing,correct:!0===i.correct&&["statistic","result"].includes(i.mode),wrong:!1===i.correct&&["statistic","result"].includes(i.mode)}),readonly:!i.editing,"onUpdate:modelValue":t[3]||(t[3]=e=>c.localItem=e),onBlur:t[4]||(t[4]=(...e)=>r.updateItem&&r.updateItem(...e))},null,42,h),[[o.nr,c.localItem]])])}var p=i(7828),f={name:"CardItem",props:{item:String,difficult:String,index:Number,variant:Number,checked:Boolean,mode:String,correct:{type:Boolean,default:null},prop:String,editing:{type:Boolean,default:!1}},data(){return{check:"",value:"",localItem:this.item}},computed:{disabled(){return"test"!==this.mode}},watch:{localItem(e){let t=/[^a-zA-Zа-яА-ЯёЁ.,!?\s]/g;t.exec(e)&&(this.localItem=e.replaceAll(t,""))},editing(e){e||this.updateItem()}},methods:{updateItem(){this.$emit("editRecord",{record:this.localItem,prop:this.prop})},toSpeech(){if("test"===this.mode&&/[a-zA-Z]/g.test(this.item))return(0,p.go)(this.localItem)},update(){"test"===this.mode&&(this.check=this.localItem,this.$store.commit("UPDATE_ANSWER",{answer:this.check,difficult:this.difficult,index:this.index}))}}},w=i(5312);const k=(0,w.Z)(f,[["render",g],["__scopeId","data-v-05e72014"]]);var _=k,I=i.p+"img/edit.71798a50.svg",v=i.p+"img/delete.96103a4e.svg",R=i.p+"img/done.c0cf71e6.svg";function x(e,t,i,o,s,c){return(0,d.wg)(),(0,d.iD)("div",{class:(0,n.C_)(["tool",{show:s.editing}])},[s.editing?(0,d.kq)("",!0):((0,d.wg)(),(0,d.iD)("img",{key:0,src:I,onClick:t[0]||(t[0]=e=>c.changeEditing(!0)),alt:"Редактировать"})),s.editing?(0,d.kq)("",!0):((0,d.wg)(),(0,d.iD)("img",{key:1,src:v,onClick:t[1]||(t[1]=(...e)=>c.deleteRecord&&c.deleteRecord(...e)),alt:"Удалить"})),s.editing?((0,d.wg)(),(0,d.iD)("img",{key:2,src:R,onClick:t[2]||(t[2]=e=>c.changeEditing(!1)),alt:"Готово"})):(0,d.kq)("",!0)],2)}var y={name:"ToolMenu",props:{index:Number},data(){return{editing:-1===this.index}},methods:{changeEditing(e){if(-1===this.index)return this.$emit("addRecord");this.editing=e,this.$emit("changeEditing",e)},deleteRecord(){this.$emit("deleteRecord")}}};const D=(0,w.Z)(y,[["render",x],["__scopeId","data-v-2358ae34"]]);var C=D,q={name:"CardContainer",props:{item:Object,difficult:String,index:Number,mode:String},components:{ToolMenu:C,CardItem:_},data(){return{editing:!1}},created(){-1===this.index&&(this.editing=!0)},methods:{checked(e){return this.item.answer.length-this.item?.index-1===e},localAnswer(e){return"string"===typeof e?[e]:e},deleteRecord(){"settings"===this.mode&&this.$store.commit("settings/DELETE_RECORD",{difficult:this.difficult,item:this.item})},editRecord({record:e,prop:t}){if("settings"===this.mode)return-1===this.index?this.updateNewItem(e,t):void this.$store.commit("settings/EDIT_RECORD",{difficult:this.difficult,index:this.index,record:e,prop:t})},updateNewItem(e,t){this.$emit("updateNewItem",{diff:this.difficult,record:e,prop:t})}}};const E=(0,w.Z)(q,[["render",m],["__scopeId","data-v-110243f3"]]);var b=E,A={name:"DifficultList",components:{CardContainer:b},props:{questions:Object,limits:Object,congratulations:{type:Boolean,default:!1}},data(){return{order:["easy","medium","hard"],localLimits:this.limits,newItem:{easy:{answer:"",question:""},medium:{answer:"",question:""},hard:{answer:"",question:""}}}},computed:{mode(){return`${this.$router.currentRoute.value.name}`}},methods:{checkCount(e,t){let i=this.questions[t].length;e>i&&(this.localLimits[t]=i)},updateLimit(e){this.$store.commit("settings/SAVE_LIMIT",{difficult:e,limit:this.localLimits[e]})},addRecord(e){this.$store.commit("settings/ADD_RECORD",{difficult:e,item:this.newItem[e]}),this.newItem[e]={answer:"",question:""}}}};const S=(0,w.Z)(A,[["render",l],["__scopeId","data-v-40b5951a"]]);var $=S}}]);
//# sourceMappingURL=955.cdf7f4f0.js.map