"use strict";(self["webpackChunkenglish_test_home"]=self["webpackChunkenglish_test_home"]||[]).push([[846],{5925:function(t,s,e){e.d(s,{Z:function(){return m}});var i=e(8473),a=e(4887);const n={key:0},o=["value"],c={key:1};function d(t,s,e,d,l,r){return(0,i.wg)(),(0,i.iD)("div",{class:(0,a.C_)(["start_btn",{test:"test"===r.mode}])},["test"!==r.mode?((0,i.wg)(),(0,i.iD)("div",n)):(0,i.kq)("",!0),(0,i._)("input",{type:"button",value:l.title,onClick:s[0]||(s[0]=(...t)=>r.changeReady&&r.changeReady(...t))},null,8,o),"test"!==r.mode?((0,i.wg)(),(0,i.iD)("div",c)):(0,i.kq)("",!0)],2)}var l=e(299),r={name:"StartButton",data(){return{title:"Начать тест"}},computed:{...(0,l.rn)(["readyToTest"]),mode(){return`${this.$router.currentRoute.value.name}`}},watch:{readyToTest:function(t){this.changeTitle(t)},mode:function(t){"test"!==t&&this.$store.dispatch("changeReady",!1)}},methods:{changeReady(){"test"!==this.mode?this.$router.push("/"):this.$store.dispatch("changeReady",!this.readyToTest)},changeTitle(t){this.title=t?"Завершить тест":"Начать тест"}}},u=e(5312);const h=(0,u.Z)(r,[["render",d],["__scopeId","data-v-0fd35a20"]]);var m=h},142:function(t,s,e){e.r(s),e.d(s,{default:function(){return Y}});var i=e(8473),a=e(4887);const n={key:1},o=["onClick"],c={key:0};function d(t,s,e,d,l,r){const u=(0,i.up)("loader-spinner"),h=(0,i.up)("start-button"),m=(0,i.up)("date-list");return l.loading?((0,i.wg)(),(0,i.j4)(u,{key:0})):((0,i.wg)(),(0,i.iD)("div",n,[(0,i.Wm)(h),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.localStatistic,((s,e)=>((0,i.wg)(),(0,i.iD)("div",{class:(0,a.C_)(["user",{first:s.info?.isPrivileged}]),key:e,onClick:t=>l.activeUser=e},[(0,i._)("div",{class:(0,a.C_)(["user__info",{single:!t.isLogin}])},[t.isLogin?((0,i.wg)(),(0,i.iD)("span",c,"Пользователь: ")):(0,i.kq)("",!0),(0,i._)("span",null,(0,a.zw)(s.info.displayName),1)],2),((0,i.wg)(),(0,i.j4)(i.Ob,null,["result"===r.mode||l.activeUser===e?((0,i.wg)(),(0,i.j4)(m,{key:0,tests:s.statistic,mode:r.mode},null,8,["tests","mode"])):(0,i.kq)("",!0)],1024))],10,o)))),128))]))}const l=t=>((0,i.dD)("data-v-55c8de4e"),t=t(),(0,i.Cn)(),t),r=["onClick"],u={class:"tests__info"},h=l((()=>(0,i._)("span",null,"Дата теста: ",-1))),m={class:"date"},p={class:"tests__info"},g=l((()=>(0,i._)("span",null,"Количество тестов: ",-1)));function _(t,s,e,n,o,c){const d=(0,i.up)("test-result");return(0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(c.dateArray,(t=>((0,i.wg)(),(0,i.iD)("div",{class:"tests",key:t.day,onClick:s=>{o.activeDay=t.day,o.testsOfDay=e.tests[t.day]}},[(0,i._)("div",u,[h,(0,i._)("span",m,(0,a.zw)(t.output),1)]),(0,i._)("div",p,[g,(0,i._)("span",null,(0,a.zw)(c.testsOnDay(e.tests[t.day])),1)]),((0,i.wg)(),(0,i.j4)(i.Ob,null,["result"===e.mode||o.activeDay===t.day?((0,i.wg)(),(0,i.j4)(d,{key:0,tests:o.testsOfDay,mode:e.mode},null,8,["tests","mode"])):(0,i.kq)("",!0)],1024))],8,r)))),128)}const y=t=>((0,i.dD)("data-v-488714b1"),t=t(),(0,i.Cn)(),t),v=["onClick"],w={class:"test__detail"},f=y((()=>(0,i._)("span",null," Время выполнения теста: ",-1))),k={class:"time"},D={class:"test__detail"},b=y((()=>(0,i._)("span",null," Затраченное время: ",-1))),O={class:"test__detail"},j=y((()=>(0,i._)("span",null," Кол-во верных ответов / вопросов: ",-1))),C={class:"test__detail"},S=y((()=>(0,i._)("span",null,"Причина:",-1)));function T(t,s,e,n,o,c){const d=(0,i.up)("difficult-list");return(0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.tests,((t,s)=>((0,i.wg)(),(0,i.iD)("div",{class:(0,a.C_)(["test",{congratulations:t.congratulations}]),key:s,onClick:t=>o.activeTime=s},[(0,i._)("div",w,[f,(0,i._)("span",k,(0,a.zw)(s),1)]),(0,i._)("div",D,[b,(0,i._)("span",null,(0,a.zw)(t["time spent"]),1)]),(0,i._)("div",O,[j,(0,i._)("span",null,(0,a.zw)(t.correctAnswers)+" / "+(0,a.zw)(t.questions),1)]),(0,i._)("div",C,[S,(0,i._)("span",null,(0,a.zw)(t.reason),1)]),((0,i.wg)(),(0,i.j4)(i.Ob,null,["result"===e.mode||o.activeTime===s?((0,i.wg)(),(0,i.j4)(d,{key:0,questions:t.test,congratulations:t.congratulations},null,8,["questions","congratulations"])):(0,i.kq)("",!0)],1024))],10,v)))),128)}var A=e(4924),$={name:"TestResult",components:{DifficultList:A.Z},props:{tests:Object,mode:String},data(){return{activeTime:""}},created(){let t=Object.values(this.tests)[0];"result"===this.mode&&t.congratulations&&setTimeout((()=>{this.$router.push("/fireshow")}),2e3)}},R=e(5312);const q=(0,R.Z)($,[["render",T],["__scopeId","data-v-488714b1"]]);var z=q,L={name:"DateList",components:{TestResult:z},props:{tests:Object,mode:String},data(){return{activeDay:"",testsOfDay:{}}},created(){let t=Object.keys(this.tests);"result"===this.mode&&(this.testsOfDay=this.tests[t])},computed:{dateArray(){let t=Object.keys(this.tests).reverse();return this.prepareDate(t)},testsOnDay(){return t=>Object.keys(t).length}},methods:{prepareDate(t){for(let s=0;s<t.length;s++){let e=t[s];e={day:e,output:e.split("-").reverse().join(".")},t[s]=e}return t}}};const Z=(0,R.Z)(L,[["render",_],["__scopeId","data-v-55c8de4e"]]);var I=Z,N=e(5925),U=e(299),H={name:"StatisticPage",components:{StartButton:N.Z,DateList:I},data(){return{activeUser:"",loading:!0,localStatistic:null}},computed:{...(0,U.rn)("authorization",["uid","isAdmin","isLogin","displayName"]),...(0,U.rn)("statistic",["statistic"]),...(0,U.rn)(["answers"]),mode(){return this.$router.currentRoute.value.name}},watch:{statistic:function(t){"statistic"===this.mode&&t&&Object.keys(t).length&&(this.loading=!1,this.localStatistic=this.statistic)},login:async function(t){t&&"statistic"===this.mode&&await this.$store.dispatch("statistic/getStatistic",{uid:this.uid,isAdmin:this.isAdmin})},mode:async function(t){this.isLogin&&"result"===this.mode&&this.$store.dispatch("setAnswer",{uid:this.uid}),"statistic"===t&&await this.$store.dispatch("statistic/getStatistic",{uid:this.uid,isAdmin:this.isAdmin})},loading:function(t){t||"result"===this.mode&&(this.activeUser=this.uid)}},async created(){"result"===this.mode&&(this.isLogin&&this.$store.dispatch("setAnswer",{uid:this.uid}),this.localStatistic=this.createResultStatistic(),this.loading=!1),"statistic"===this.mode&&await this.$store.dispatch("statistic/getStatistic",{uid:this.uid,isAdmin:this.isAdmin})},methods:{createResultStatistic(){let t={};return t[this.uid]={info:{displayName:this.isLogin?this.displayName:"Вход не выполнен"},statistic:this.answers},t}}};const K=(0,R.Z)(H,[["render",d],["__scopeId","data-v-01440b48"]]);var Y=K}}]);
//# sourceMappingURL=846.3340e3e7.js.map