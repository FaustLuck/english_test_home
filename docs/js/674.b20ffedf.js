"use strict";(self["webpackChunkenglish_test_home"]=self["webpackChunkenglish_test_home"]||[]).push([[674],{4376:function(t,e,i){i.r(e),i.d(e,{default:function(){return k}});var s=i(3396),n=i(7139);const l=t=>((0,s.dD)("data-v-2cf3440f"),t=t(),(0,s.Cn)(),t),a={key:0,class:"info__login"},r={class:"info__detail-clickable"},o={class:"info__detail"},d=l((()=>(0,s._)("span",null,"Время тестирования:",-1))),c={class:"info__detail"},u=l((()=>(0,s._)("span",null,"Кол-во верных ответов / вопросов:",-1))),h={class:"info__detail"},p=l((()=>(0,s._)("span",null,"Времени затрачено:",-1))),m={key:0,class:"info__detail-fail"},f=l((()=>(0,s._)("span",null,"Время вышло!",-1))),g=[f],_={key:1};function w(t,e,i,l,f,w){const y=(0,s.up)("test-difficult-component");return(0,s.wg)(),(0,s.iD)("section",{class:(0,n.C_)(["info",{fail:w.isFail&&"statistic"===w.mode&&!f.displayMode,congratulation:w.isCongratulation&&"statistic"===w.mode&&!f.displayMode}]),onClick:e[0]||(e[0]=(...t)=>w.changeDisplayMode&&w.changeDisplayMode(...t))},["result"===w.mode?((0,s.wg)(),(0,s.iD)("div",a,(0,n.zw)(t.isLogin?t.displayName:"Вход не выполнен"),1)):(0,s.kq)("",!0),(0,s._)("div",r,[(0,s._)("div",o,[d,(0,s._)("span",null,(0,n.zw)(f.localDate)+" "+(0,n.zw)(f.localTime),1)]),(0,s._)("div",c,[u,(0,s._)("span",null,(0,n.zw)(w.correctAnswers)+" / "+(0,n.zw)(w.lengthAnswers),1)]),(0,s._)("div",h,[p,(0,s._)("span",null,(0,n.zw)(w.timeSpentToString),1)]),w.isFail&&"result"===w.mode?((0,s.wg)(),(0,s.iD)("div",m,g)):(0,s.kq)("",!0)]),f.displayMode>0?((0,s.wg)(),(0,s.iD)("div",_,[((0,s.wg)(),(0,s.j4)(s.Ob,null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t.orderDifficult,(t=>((0,s.wg)(),(0,s.j4)(y,{key:t,difficult:t,"part-answers":1===f.displayMode?w.filterTest(t):f.test[t]},null,8,["difficult","part-answers"])))),128))],1024))])):(0,s.kq)("",!0)],2)}var y=i(6623),S=i(8661),v={name:"testInfoComponent",components:{testDifficultComponent:(0,s.RC)((()=>i.e(896).then(i.bind(i,6507))))},props:{answers:Object,timestamp:Number,date:String,time:String},data(){return{localDate:"",localTime:"",test:null,timeSpent:0,displayMode:0}},computed:{...(0,y.rn)("auth",["displayName","isLogin"]),...(0,y.Se)("settings",["getTimer"]),...(0,y.rn)(["orderDifficult"]),timerStart(){if(!this.getTimer)return;let{min:t,sec:e}=this.getTimer;return 60*t+e},mode(){return this.$route.name},lengthAnswers(){return Object.values(this.test).reduce(((t,e)=>t+e.length),0)},correctAnswers(){return Object.values(this.test).reduce(((t,e)=>t+e.filter((t=>t.answer===t.choice)).length),0)},timeSpentToString(){let t=(this.timeSpent%60).toString().padStart(2,"0"),e=(this.timeSpent-t)/60;return`${e}:${t}`},isCongratulation(){return this.lengthAnswers===this.correctAnswers},isFail(){return this.timerStart===this.answers.timeSpent}},methods:{changeDisplayMode(t){if(this.timestamp)return;++this.displayMode,3===this.displayMode&&(this.displayMode=0),this.isCongratulation&&1===this.displayMode&&(this.displayMode=2);let e=t.target.closest(".info");this.scroll(e)},scroll(t){let e=t.getBoundingClientRect().top;e<63&&window.scrollBy({top:e-63,behavior:"smooth"})},filterTest(t){return this.test[t].filter((t=>t.answer!==t.choice))}},created(){({test:this.test,timeSpent:this.timeSpent}={...this.answers}),this.isCongratulation&&this.$emit("congratulation"),[this.localDate,this.localTime]=this.timestamp?(0,S._)(this.timestamp):[this.date,this.time],this.timestamp&&(this.displayMode=2)}},D=i(89);const M=(0,D.Z)(v,[["render",w],["__scopeId","data-v-2cf3440f"]]);var k=M}}]);
//# sourceMappingURL=674.b20ffedf.js.map