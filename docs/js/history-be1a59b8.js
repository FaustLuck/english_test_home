import{G as p,M as w,r as O,N as c}from"./main-7f3d3c9a.js";const j=p("history",()=>{const n=w({}),o=O([]);async function g(e){o.value=await c(`/user/${e}`)}function m(e){return o.value.find(t=>t.sub===e)}function y(e,t,s=0,r=1){const a=u(arguments[1],arguments[2],arguments[3]);arguments[arguments.length-1]+=1;const i=u(arguments[1],arguments[2],arguments[3]);return f(e,t,a,i)}function u(e,t=0,s=1){return new Date(e,t,s).getTime()}function f(e,t,s,r){var a;return(a=n==null?void 0:n[e])!=null&&a[t]?n[e][t].filter(i=>i.timestamp>=s&&i.timestamp<r):[]}async function h(e,t){const s=await c(`/history/year/${t}/${e}`);n[t]||(n[t]={}),n[t][e]||(n[t][e]=[]),Object.assign(n[t][e],s)}async function d(e,t,s){(await c(`/history/day/${t}/${e}`)).forEach(a=>{const i=n[t][s].find(l=>l.key===a.key);i&&Object.assign(i,a)})}async function $(e,t,s){const r=await c(`/history/test/${t}`),a=n[e][s].find(i=>i.key===t);a&&Object.assign(a,{test:r})}return{history:n,users:o,getUser:m,getUsers:g,getHistoryOfYear:h,getHistoryOfDay:d,getRange:f,checkRange:y,getResult:$}});export{j as u};
