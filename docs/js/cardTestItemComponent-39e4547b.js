import{_ as p,d as g,a as f,m as d,c as _,t as y,e as C,o,f as a,h as r,q as S,v as w,i as k,x as v,n as c,l as E,A as l,r as b}from"./main-5f80988f.js";import{s as m}from"./settingsStore-7da817fd.js";const I={name:"cardTestItemComponent",components:{inputComponent:g(()=>f(()=>import("./inputComponent-8f048d06.js"),["js/inputComponent-8f048d06.js","js/main-5f80988f.js","css/main-c8ad37bc.css","css/inputComponent-4b925b3a.css"]))},props:{item:{type:String,required:!0},difficult:String,index:Number,type:String,checked:Boolean,right:Boolean,excluded:Boolean},computed:{...d(_,["mode"]),...d(y,["SPEECH"]),...d(m,["editingDifficult","editingIndex","editingItem"]),isSpeech(){return this.mode==="test"&&/[a-zA-Z]/g.test(this.item)},name(){return this.type==="question"?null:`${this.difficult}${this.index}`},editing(){return this.difficult===this.editingDifficult&&this.index===this.editingIndex},rightColor(){return this.right&&this.type!=="question"&&!["settings","test"].includes(this.mode)},wrongColor(){return!this.right&&this.type!=="question"&&!["settings","test"].includes(this.mode)}},methods:{...C(m,["clearEdit","finishEdit"]),update(){this.type==="answer"&&this.$emit("updateChoice",this.item)},async toVoice(){if(this.isSpeech)try{let e=await fetch(this.SPEECH+this.item);if(e.ok){let i=await e.blob(),n=URL.createObjectURL(i);await new Audio(n).play()}}catch(e){console.log(e)}}}},x={key:0},V=["name","checked","disabled"],A={key:1,class:"item speech"};function B(e,i,n,u,q,t){const h=b("input-component");return t.editing?(o(),a("label",A,[E(h,{value:e.editingItem[n.type],onChanges:i[2]||(i[2]=({newValue:s})=>e.editingItem[n.type]=s),onKeydown:[l(e.clearEdit,["esc"]),l(e.finishEdit,["enter"])]},null,8,["value","onKeydown"])])):(o(),a("label",{key:0,class:c(["item",{speech:!t.isSpeech,excluded:n.excluded}])},[t.isSpeech?(o(),a("a",x,"ðŸ”‰")):r("",!0),e.mode!=="settings"?S((o(),a("input",{key:1,onChange:i[0]||(i[0]=(...s)=>t.update&&t.update(...s)),onClick:i[1]||(i[1]=(...s)=>t.toVoice&&t.toVoice(...s)),type:"radio",name:t.name,checked:n.checked,disabled:e.mode!=="test"},null,40,V)),[[w,n.type==="answer"]]):r("",!0),k("span",{class:c(["item__title",{right:t.rightColor,wrong:t.wrongColor}])},v(n.item),3)],2))}const P=p(I,[["render",B],["__scopeId","data-v-e9ea2a64"]]);export{P as default};
