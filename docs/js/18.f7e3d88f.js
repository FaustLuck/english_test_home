"use strict";(self["webpackChunkenglish_test_home"]=self["webpackChunkenglish_test_home"]||[]).push([[18],{1856:function(t,s,e){e.d(s,{Z:function(){return h}});var i=e(8473);const a={key:0},n=["value"],l={key:1};function r(t,s,e,r,o,c){return(0,i.wg)(),(0,i.iD)("header",null,["/"!==o.path?((0,i.wg)(),(0,i.iD)("div",a)):(0,i.kq)("",!0),(0,i._)("input",{type:"button",value:o.title,onClick:s[0]||(s[0]=(...t)=>c.changeReady&&c.changeReady(...t))},null,8,n),"/"!==o.path?((0,i.wg)(),(0,i.iD)("div",l)):(0,i.kq)("",!0)])}var o=e(299),c={name:"StartButton",data(){return{title:"Начать тест",path:this.$router.currentRoute.value.path}},computed:{...(0,o.rn)(["readyToTest"])},watch:{readyToTest:function(t){this.changeTitle(t)}},methods:{changeReady(){"/"!==this.path?this.$router.push("/"):this.$store.dispatch("changeReady",!this.readyToTest)},changeTitle(t){this.title=t?"Завершить тест":"Начать тест"}}},d=e(5312);const u=(0,d.Z)(c,[["render",r],["__scopeId","data-v-e32bd454"]]);var h=u},9244:function(t,s,e){e.r(s),e.d(s,{default:function(){return Y}});var i=e(8473),a=e(4887);const n={key:1},l=["onClick"],r={key:0};function o(t,s,e,o,c,d){const u=(0,i.up)("loader-spinner"),h=(0,i.up)("start-button"),p=(0,i.up)("date-list");return c.loading?((0,i.wg)(),(0,i.j4)(u,{key:0})):((0,i.wg)(),(0,i.iD)("div",n,[(0,i.Wm)(h),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(d.statistic,((s,e)=>((0,i.wg)(),(0,i.iD)("div",{class:(0,a.C_)(["user",{first:s.info?.priveleged}]),key:e,onClick:t=>c.activeUser=e},[(0,i._)("div",{class:(0,a.C_)(["user__info",{single:!t.login}])},[t.login?((0,i.wg)(),(0,i.iD)("span",r,"Имя: ")):(0,i.kq)("",!0),(0,i._)("span",null,(0,a.zw)(s.info.displayName),1)],2),((0,i.wg)(),(0,i.j4)(i.Ob,null,[c.activeUser===e?((0,i.wg)(),(0,i.j4)(p,{key:0,tests:s.statistic},null,8,["tests"])):(0,i.kq)("",!0)],1024))],10,l)))),128))]))}const c=t=>((0,i.dD)("data-v-1099dad7"),t=t(),(0,i.Cn)(),t),d=["onClick"],u={class:"tests__info"},h=c((()=>(0,i._)("span",null,"Дата теста: ",-1))),p={class:"date"},g={class:"tests__info"},_=c((()=>(0,i._)("span",null,"Количество тестов: ",-1)));function y(t,s,e,n,l,r){const o=(0,i.up)("test-result");return(0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(r.dateArray,(t=>((0,i.wg)(),(0,i.iD)("div",{class:"tests",key:t.day,onClick:s=>{l.activeDay=t.day,l.testsOfDay=e.tests[t.day]}},[(0,i._)("div",u,[h,(0,i._)("span",p,(0,a.zw)(t.output),1)]),(0,i._)("div",g,[_,(0,i._)("span",null,(0,a.zw)(r.testsOnDay(e.tests[t.day])),1)]),((0,i.wg)(),(0,i.j4)(i.Ob,null,[l.activeDay===t.day?((0,i.wg)(),(0,i.j4)(o,{key:0,tests:l.testsOfDay},null,8,["tests"])):(0,i.kq)("",!0)],1024))],8,d)))),128)}const v=t=>((0,i.dD)("data-v-170e4e90"),t=t(),(0,i.Cn)(),t),m=["onClick"],w={class:"test__detail"},k=v((()=>(0,i._)("span",null," Время выполнения теста: ",-1))),f={class:"time"},D={class:"test__detail"},b=v((()=>(0,i._)("span",null," Затраченное время: ",-1))),j={class:"test__detail"},C=v((()=>(0,i._)("span",null," Кол-во верных ответов / вопросов: ",-1))),O={class:"test__detail"},T=v((()=>(0,i._)("span",null,"Причина:",-1)));function $(t,s,e,n,l,r){const o=(0,i.up)("difficult-list");return(0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.tests,((t,s)=>((0,i.wg)(),(0,i.iD)("div",{class:(0,a.C_)(["test",{congratulations:t.congratulations}]),key:s,onClick:t=>l.activeTime=s},[(0,i._)("div",w,[k,(0,i._)("span",f,(0,a.zw)(s),1)]),(0,i._)("div",D,[b,(0,i._)("span",null,(0,a.zw)(t["time spent"]),1)]),(0,i._)("div",j,[C,(0,i._)("span",null,(0,a.zw)(t.correctAnswers)+" / "+(0,a.zw)(t.questions),1)]),(0,i._)("div",O,[T,(0,i._)("span",null,(0,a.zw)(t.reason),1)]),((0,i.wg)(),(0,i.j4)(i.Ob,null,[l.activeTime===s?((0,i.wg)(),(0,i.j4)(o,{key:0,questions:t.test,congratulations:t.congratulations},null,8,["questions","congratulations"])):(0,i.kq)("",!0)],1024))],10,m)))),128)}var q=e(1174),z={name:"TestResult",components:{DifficultList:q.Z},props:{tests:Object},data(){return{activeTime:"",timerId:0}}},R=e(5312);const S=(0,R.Z)(z,[["render",$],["__scopeId","data-v-170e4e90"]]);var Z=S,A={name:"DateList",components:{TestResult:Z},props:{tests:Object},data(){return{loading:!0,activeDay:"",testsOfDay:{}}},computed:{dateArray(){let t=Object.keys(this.tests).reverse();return this.prepareDate(t)},testsOnDay(){return t=>Object.keys(t).length}},methods:{prepareDate(t){for(let s=0;s<t.length;s++){let e=t[s];e={day:e,output:e.split("-").reverse().join(".")},t[s]=e}return t}}};const I=(0,R.Z)(A,[["render",y],["__scopeId","data-v-1099dad7"]]);var L=I,N=e(1856),H=e(299),K={name:"StatisticPage",components:{StartButton:N.Z,DateList:L},data(){return{activeUser:"",loading:!0}},computed:{...(0,H.rn)("authorization",["uid","admin","login","displayName"]),mode(){return this.$router.currentRoute.value.name},statistic(){if("statistic"===this.mode)return this.$store.getters["statistic/getStatistic"];let t={};return t[this.uid]={info:{displayName:this.login?this.displayName:"Вход не выполнен"},statistic:this.$store.getters["getAnswer"]},t}},watch:{statistic:function(t){t&&Object.keys(t).length&&(this.loading=!1)},login:async function(t){t&&"statistic"===this.mode&&await this.$store.dispatch("statistic/getStatistic",{uid:this.uid,admin:this.admin})}},async created(){Object.keys(this.statistic).length&&(this.loading=!1),this.login&&"result"===this.mode&&this.$store.dispatch("setAnswer",{uid:this.uid}),"statistic"===this.mode&&await this.$store.dispatch("statistic/getStatistic",{uid:this.uid,admin:this.admin})},beforeRouteLeave(){this.loading=!0},async updated(){this.login&&"result"===this.mode&&this.$store.dispatch("setAnswer",{uid:this.uid}),"statistic"===this.mode&&await this.$store.dispatch("statistic/getStatistic",{uid:this.uid,admin:this.admin})}};const U=(0,R.Z)(K,[["render",o],["__scopeId","data-v-00293252"]]);var Y=U}}]);
//# sourceMappingURL=18.f7e3d88f.js.map