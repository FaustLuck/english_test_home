import{_ as g,d as p,a as f,m as d,c as _,t as y,e as C,o,f as a,i as r,q as S,v as b,j as w,x as k,n as c,g as v,z as l,r as E}from"./main-4715c286.js";import{s as m}from"./settingsStore-b1d15a5d.js";const I={name:"cardTestItemComponent",components:{inputItem:p(()=>f(()=>import("./inputItem-086979f7.js"),["js/inputItem-086979f7.js","js/main-4715c286.js","css/main-df3f9d20.css"]))},props:{item:{type:String,required:!0},difficult:String,index:Number,type:String,checked:Boolean,right:Boolean,excluded:Boolean},computed:{...d(_,["mode"]),...d(y,["SPEECH"]),...d(m,["editingDifficult","editingIndex","editingItem"]),isSpeech(){return this.mode==="test"&&/[a-zA-Z]/g.test(this.item)},name(){return this.type==="question"?null:`${this.difficult}${this.index}`},editing(){return this.difficult===this.editingDifficult&&this.index===this.editingIndex},rightColor(){return this.right&&this.type!=="question"&&!["settings","test"].includes(this.mode)},wrongColor(){return!this.right&&this.type!=="question"&&!["settings","test"].includes(this.mode)}},methods:{...C(m,["clearEdit","finishEdit"]),update(){this.type==="answer"&&this.$emit("updateChoice",this.item)},async toVoice(){if(this.isSpeech)try{let e=await fetch(this.SPEECH+this.item);if(e.ok){let i=await e.blob(),s=URL.createObjectURL(i);await new Audio(s).play()}}catch(e){console.log(e)}}}},x={key:0},V=["name","checked","disabled"],B={key:1,class:"item speech"};function q(e,i,s,u,A,t){const h=E("input-item");return t.editing?(o(),a("label",B,[v(h,{value:e.editingItem[s.type],onChanges:i[2]||(i[2]=({newValue:n})=>e.editingItem[s.type]=n),onKeydown:[l(e.clearEdit,["esc"]),l(e.finishEdit,["enter"])]},null,8,["value","onKeydown"])])):(o(),a("label",{key:0,class:c(["item",{speech:!t.isSpeech,excluded:s.excluded}])},[t.isSpeech?(o(),a("a",x,"ðŸ”‰")):r("",!0),e.mode!=="settings"?S((o(),a("input",{key:1,onChange:i[0]||(i[0]=(...n)=>t.update&&t.update(...n)),onClick:i[1]||(i[1]=(...n)=>t.toVoice&&t.toVoice(...n)),type:"radio",name:t.name,checked:s.checked,disabled:e.mode!=="test"},null,40,V)),[[b,s.type==="answer"]]):r("",!0),w("span",{class:c(["item__title",{right:t.rightColor,wrong:t.wrongColor}])},k(s.item),3)],2))}const P=g(I,[["render",q],["__scopeId","data-v-d48bb883"]]);export{P as default};
