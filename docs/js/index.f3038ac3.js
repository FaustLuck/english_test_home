(function(){"use strict";var t={6346:function(t,e,n){n.d(e,{l:function(){return U},H:function(){return C}});var i=n(9242),a=n(3396);function o(t,e,n,i,o,r){const s=(0,a.up)("layout-component"),l=(0,a.up)("menu-component"),u=(0,a.up)("router-view");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(s),(0,a.Wm)(l),(0,a._)("form",null,[((0,a.wg)(),(0,a.j4)(u,{key:t.$route.fullPath}))])],64)}var r={components:{LayoutComponent:(0,a.RC)((()=>n.e(58).then(n.bind(n,3058)))),menuComponent:(0,a.RC)((()=>n.e(648).then(n.bind(n,2651))))}},s=n(89);const l=(0,s.Z)(r,[["render",o]]);var u=l,c=n(2483);const f=[{path:"/",name:"test",component:()=>n.e(506).then(n.bind(n,4777))},{path:"/result",name:"result",component:()=>n.e(585).then(n.bind(n,6585))},{path:"/statistic",name:"statistic",component:()=>n.e(818).then(n.bind(n,2818))},{path:"/statistic:uid",name:"statistic-user",props:!0,component:()=>n.e(790).then(n.bind(n,4790))},{path:"/settings",name:"settings",component:()=>n.e(56).then(n.bind(n,3056))},{path:"/fire-show",name:"fire-show",component:()=>n.e(379).then(n.bind(n,2379))}],d=(0,c.p7)({history:(0,c.PO)("/english_test_home/"),routes:f});var h=d,m=n(6623),p=n(5421),g=n(1178);const v={namespaced:!0,state:{uid:"unauthorizedUser",displayName:"Войти с помощью Google",photoURL:n(4966),isAdmin:!1,isPrivileged:!1,isLogin:!1},mutations:{saveUserInfo(t,e){t.uid=e.uid,t.displayName=e.displayName,t.photoURL=e.photoURL,t.isAdmin=e.isAdmin??!1,t.isPrivileged=e.isPrivileged??!1},changeLoginStatus(t,e){t.isLogin=e}},actions:{async restoreLogin({dispatch:t}){let e=await t("getUID");e&&await t("requestUserInfo",e)},async toLogin({state:t,dispatch:e}){if(t.isLogin)return;const n=new p.hJ;let i=await(0,p.rh)(U,n),a=i.user;await e("requestUserInfo",a.uid)||await e("sendUserInfo",a)},async requestUserInfo({dispatch:t,commit:e},n){const i=(0,g.iH)(C,`users2/${n}/info`);let a=await(0,g.U2)(i);if(a.exists()){let i=await a.val();return i.uid=n,e("saveUserInfo",i),t("setUID"),e("changeLoginStatus",!0),!0}return!1},async sendUserInfo({dispatch:t,commit:e},n){const i=(0,g.iH)(C,`users2/${n.uid}/info/`);await(0,g.t8)(i,{displayName:n.displayName,photoURL:n.photoURL}),e("saveUserInfo",n),t("setUID"),e("changeLoginStatus",!0)},setUID({state:t}){window.localStorage.setItem("uid",t.uid)},getUID(){return window.localStorage.getItem("uid")}}},y={namespaced:!0,state:{settings:{speech:null,timer:null}},mutations:{saveSettings(t,e){t.settings=e},saveTimer(t,e){t.settings.timer=e}},actions:{async requestSettings({commit:t}){const e=(0,g.iH)(C,"/settings");try{let n=await(0,g.U2)(e);if(n.exists()){let e=n.val();t("saveSettings",e)}else console.log("No data available")}catch(n){console.log(n)}},async requestTimer({commit:t}){const e=(0,g.iH)(C,"/settings/timer");try{let n=await(0,g.U2)(e);if(n.exists()){let e=n.val();t("saveTimer",e)}else console.log("No data available")}catch(n){console.log(n)}}},getters:{getSpeech:t=>t.settings.speech,getTimer:t=>t.settings.timer}};var b=n(8661);const w={namespaced:!0,state:{statistic:null,dateList:null},mutations:{saveStatistic(t,e){t.statistic=e},createDateList(t,e){let n={};for(let i in e){n[i]=[];for(let t in e[i].statistic){t=parseInt(t);let[e,a]=(0,b._3)(t),o=n[i].findIndex((t=>t[0]===e));o>-1?n[i][o][1].push({timestamp:t,time:a}):n[i].push([e,[{timestamp:t,time:a}]])}n[i].reverse(),n[i].map((([,t])=>t.reverse()))}t.dateList=n}},actions:{async requestStatistic({commit:t},{uid:e,isAdmin:n=!1}){let i=n?"":`${e}/`;const a=(0,g.iH)(C,`users2/${i}`);let o=await(0,g.U2)(a);if(o.exists()){let i=await o.val();if(n)for(let[t,e]of Object.entries(i))e?.statistic||delete i[t];else{let t={};t[e]=i,i=t}t("saveStatistic",i),t("createDateList",i)}}},getters:{getAnswers(t){return function(e,n){return t.statistic[e].statistic[n]}}}},x={namespaced:!0,state:{answers:null,isTesting:!1,timeSpent:null,timestamp:null,timeLeft:null},mutations:{prepareAnswers(t,{dictionary:e,limits:n}){let i={};for(let a in e)i[a]=(0,b.EF)(e[a],n[a]);t.answers=i},saveTimes(t,e){t.timeSpent=e;let n=new Date;t.timestamp=n.setSeconds(0,0)},changeTestStatus(t,e){t.isTesting=e},saveChoice(t,{choice:e,question:n,difficult:i}){let a=t.answers[i].findIndex((t=>t.question===n));t.answers[i][a].choice=e},saveTimerSec(t,e){t.timeLeft=e}},actions:{async sendAnswersToDB({state:t},{uid:e}){const n=(0,g.iH)(C,`users2/${e}/statistic/${t.timestamp}`);try{await(0,g.t8)(n,{test:t.answers,timeSpent:t.timeSpent})}catch(i){console.log(i)}}}};var S=(0,m.MT)({state:{orderDifficult:["easy","medium","hard"]},getters:{},mutations:{},actions:{},modules:{auth:v,settings:y,statistic:w,test:x}}),I=n(4275);const L={apiKey:"AIzaSyCLchFcQWRGJxElVnI0Cv7JGgAvrC8yDZ4",authDomain:"english-test-home.firebaseapp.com",projectId:"english-test-home",storageBucket:"english-test-zhome.appspot.com",messagingSenderId:"223596466893",appId:"1:223596466893:web:bafc299ab7409de7cccf84"},M=(0,I.ZF)(L),C=(0,g.N8)(M),U=(0,p.v0)(M);(0,i.ri)(u).use(S).use(h).mount("#app")},8661:function(t,e,n){function i(t,e){return t.question<e.question?-1:1}function a(t,e){let n=[],a=[...t];for(let i=0;i<e;i++){let t=r(a);n.push(t),a=o(t,a)}return n.sort(i)}function o(t,e){return e.filter((e=>t instanceof Object?e.question!==t.question:e!==t))}function r(t){return t[Math.floor(Math.random()*t.length)]}function s(t){return new Intl.DateTimeFormat("ru-Ru",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}).format(new Date(parseInt(t))).split(", ")}function l(t){t.width=window.innerWidth,t.height=window.innerHeight;const e=t.getContext("2d");window.addEventListener("resize",(()=>{t.width=window.innerWidth,t.height=window.innerHeight,e.fillStyle="#000",e.fillRect(0,0,t.width,t.height)})),e.fillStyle="#000",e.fillRect(0,0,t.width,t.height);let n=[],i=[],a=20,o={x:t.width/2,y:t.height/2},r=400;for(let c=0;c<a;c++){let e={x:Math.random()*r/2-r/4+o.x,y:Math.random()*r*2+t.height,size:Math.random()+.5,fill:"#fd1",vx:Math.random()-.5,vy:-(Math.random()+4),ax:.02*Math.random()-.01,far:Math.random()*r+(o.y-r)};e.base={x:e.x,y:e.y,vx:e.vx},n.push(e)}function s(){let t=Math.floor(256*Math.random()),e=Math.floor(256*Math.random()),n=Math.floor(256*Math.random());return`rgb(${t},${e},${n}`}function l(){for(let t=0;t<n.length;t++){let e=n[t];if(e.y<=e.far){let t=s();for(let n=0;n<5*a;n++){let n={x:e.x,y:e.y,size:Math.random()+1.5,fill:t,vx:5*Math.random()-2.5,vy:-5*Math.random()+1.5,ay:.05,alpha:1,life:Math.round(Math.random()*r/2)+r/2};n.base={life:n.life,size:n.size},i.push(n)}e.y=e.base.y,e.x=e.base.x,e.vx=e.base.vx,e.ax=.02*Math.random()-.01}e.x+=e.vx,e.y+=e.vy,e.vx+=e.ax}for(let t=i.length-1;t>=0;t--){let e=i[t];e&&(e.x+=e.vx,e.y+=e.vy,e.vy+=e.ay,e.alpha=e.life/e.base.life,e.size=e.alpha*e.base.size,e.alpha=e.alpha>.6?1:e.alpha,e.life--,e.life<=0&&i.splice(t,1))}}function u(){e.globalCompositeOperation="source-over",e.globalAlpha=.18,e.fillStyle="#000",e.fillRect(0,0,t.width,t.height),e.globalCompositeOperation="screen",e.globalAlpha=1;for(let t=0;t<n.length;t++){let i=n[t];e.beginPath(),e.arc(i.x,i.y,i.size,0,2*Math.PI),e.closePath(),e.fillStyle=i.fill,e.fill()}for(let t=0;t<i.length;t++){let n=i[t];e.globalAlpha=n.alpha,e.beginPath(),e.arc(n.x,n.y,n.size,0,2*Math.PI),e.closePath(),e.fillStyle=n.fill,e.fill()}}(function t(){requestAnimationFrame(t),l(),u()})()}n.d(e,{EF:function(){return a},_3:function(){return s},bm:function(){return l}})},4966:function(t,e,n){t.exports=n.p+"img/google.c55233fb.svg"}},e={};function n(i){var a=e[i];if(void 0!==a)return a.exports;var o=e[i]={exports:{}};return t[i](o,o.exports,n),o.exports}n.m=t,function(){var t=[];n.O=function(e,i,a,o){if(!i){var r=1/0;for(c=0;c<t.length;c++){i=t[c][0],a=t[c][1],o=t[c][2];for(var s=!0,l=0;l<i.length;l++)(!1&o||r>=o)&&Object.keys(n.O).every((function(t){return n.O[t](i[l])}))?i.splice(l--,1):(s=!1,o<r&&(r=o));if(s){t.splice(c--,1);var u=a();void 0!==u&&(e=u)}}return e}o=o||0;for(var c=t.length;c>0&&t[c-1][2]>o;c--)t[c]=t[c-1];t[c]=[i,a,o]}}(),function(){n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,{a:e}),e}}(),function(){n.d=function(t,e){for(var i in e)n.o(e,i)&&!n.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})}}(),function(){n.f={},n.e=function(t){return Promise.all(Object.keys(n.f).reduce((function(e,i){return n.f[i](t,e),e}),[]))}}(),function(){n.u=function(t){return"js/"+t+"."+{25:"cc7f7a11",45:"477f4a59",56:"3d29fb00",58:"9365902d",332:"ac339ed2",362:"8035d8bc",379:"cd67068a",380:"de788757",437:"1e20eb74",443:"b54d4d58",506:"2f86e4c5",585:"9f1b1c58",621:"aac5afdc",644:"6f699bb0",648:"c946b4d6",777:"bb590931",790:"5f96d1fe",818:"877b2294"}[t]+".js"}}(),function(){n.miniCssF=function(t){return"css/"+t+"."+{25:"2ba9e9ce",45:"1de83f21",56:"a26468ea",58:"eaf2e662",332:"b7fd2489",362:"525aefe5",379:"a9fb080c",380:"903d5919",437:"a26468ea",443:"c822be88",644:"ce912d50",648:"4649ff75",777:"2fabf7af",818:"25f0afdf"}[t]+".css"}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={},e="english_test_home:";n.l=function(i,a,o,r){if(t[i])t[i].push(a);else{var s,l;if(void 0!==o)for(var u=document.getElementsByTagName("script"),c=0;c<u.length;c++){var f=u[c];if(f.getAttribute("src")==i||f.getAttribute("data-webpack")==e+o){s=f;break}}s||(l=!0,s=document.createElement("script"),s.charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",e+o),s.src=i),t[i]=[a];var d=function(e,n){s.onerror=s.onload=null,clearTimeout(h);var a=t[i];if(delete t[i],s.parentNode&&s.parentNode.removeChild(s),a&&a.forEach((function(t){return t(n)})),e)return e(n)},h=setTimeout(d.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=d.bind(null,s.onerror),s.onload=d.bind(null,s.onload),l&&document.head.appendChild(s)}}}(),function(){n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){n.p="/english_test_home/"}(),function(){var t=function(t,e,n,i){var a=document.createElement("link");a.rel="stylesheet",a.type="text/css";var o=function(o){if(a.onerror=a.onload=null,"load"===o.type)n();else{var r=o&&("load"===o.type?"missing":o.type),s=o&&o.target&&o.target.href||e,l=new Error("Loading CSS chunk "+t+" failed.\n("+s+")");l.code="CSS_CHUNK_LOAD_FAILED",l.type=r,l.request=s,a.parentNode.removeChild(a),i(l)}};return a.onerror=a.onload=o,a.href=e,document.head.appendChild(a),a},e=function(t,e){for(var n=document.getElementsByTagName("link"),i=0;i<n.length;i++){var a=n[i],o=a.getAttribute("data-href")||a.getAttribute("href");if("stylesheet"===a.rel&&(o===t||o===e))return a}var r=document.getElementsByTagName("style");for(i=0;i<r.length;i++){a=r[i],o=a.getAttribute("data-href");if(o===t||o===e)return a}},i=function(i){return new Promise((function(a,o){var r=n.miniCssF(i),s=n.p+r;if(e(r,s))return a();t(i,s,a,o)}))},a={826:0,596:0};n.f.miniCss=function(t,e){var n={25:1,45:1,56:1,58:1,332:1,362:1,379:1,380:1,437:1,443:1,644:1,648:1,777:1,818:1};a[t]?e.push(a[t]):0!==a[t]&&n[t]&&e.push(a[t]=i(t).then((function(){a[t]=0}),(function(e){throw delete a[t],e})))}}(),function(){var t={826:0,596:0};n.f.j=function(e,i){var a=n.o(t,e)?t[e]:void 0;if(0!==a)if(a)i.push(a[2]);else{var o=new Promise((function(n,i){a=t[e]=[n,i]}));i.push(a[2]=o);var r=n.p+n.u(e),s=new Error,l=function(i){if(n.o(t,e)&&(a=t[e],0!==a&&(t[e]=void 0),a)){var o=i&&("load"===i.type?"missing":i.type),r=i&&i.target&&i.target.src;s.message="Loading chunk "+e+" failed.\n("+o+": "+r+")",s.name="ChunkLoadError",s.type=o,s.request=r,a[1](s)}};n.l(r,l,"chunk-"+e,e)}},n.O.j=function(e){return 0===t[e]};var e=function(e,i){var a,o,r=i[0],s=i[1],l=i[2],u=0;if(r.some((function(e){return 0!==t[e]}))){for(a in s)n.o(s,a)&&(n.m[a]=s[a]);if(l)var c=l(n)}for(e&&e(i);u<r.length;u++)o=r[u],n.o(t,o)&&t[o]&&t[o][0](),t[o]=0;return n.O(c)},i=self["webpackChunkenglish_test_home"]=self["webpackChunkenglish_test_home"]||[];i.forEach(e.bind(null,0)),i.push=e.bind(null,i.push.bind(i))}();var i=n.O(void 0,[998],(function(){return n(6346)}));i=n.O(i)})();
//# sourceMappingURL=index.f3038ac3.js.map