import{d as C,n as f,r as _,H as V,o as l,i as g,b as i,u as o,c as v,w as d,K as x,F as h,z as D,A,L as H,j as I,_ as b}from"./main-7f3d3c9a.js";import{u as n}from"./history-be1a59b8.js";import{_ as L}from"./_plugin-vue_export-helper-c27b6911.js";const R=C({__name:"Year",props:{sub:null,year:null},setup(a){var y,m;const e=a,k=f(()=>b(()=>import("./Month-1cd64385.js"),["js/Month-1cd64385.js","js/main-7f3d3c9a.js","css/main-a045c51a.css","js/history-be1a59b8.js","js/_plugin-vue_export-helper-c27b6911.js","css/Month-0e18ab53.css"])),p=f(()=>b(()=>import("./CalendarHeader-c2e10502.js"),["js/CalendarHeader-c2e10502.js","js/mdi-2c6fa641.js","js/main-7f3d3c9a.js","css/main-a045c51a.css"])),u=_(!1),r=_(!1),Y=(m=(y=n())==null?void 0:y.getUser(e.sub))==null?void 0:m.minYear,E=new Date().getFullYear();V(async()=>{var c,t;r.value=!1,((t=(c=n().history[e.sub])==null?void 0:c[e.year])==null?void 0:t.length)===void 0&&(u.value=!0,await w(),u.value=!1),r.value=n().checkRange(e.sub,+e.year).length===0});async function w(){await n().getHistoryOfYear(e.year,e.sub),r.value=n().checkRange(e.sub,+e.year).length===0}return(c,t)=>(l(),g(h,null,[i(o(p),{year:+a.year,min:o(Y),max:o(E),onIncrement:t[0]||(t[0]=s=>a.year++),onDecrement:t[1]||(t[1]=s=>a.year--)},null,8,["year","min","max"]),r.value?(l(),v(x,{key:0,color:"transparent",class:"d-flex justify-center align-center h-100"},{default:d(()=>[i(H,null,{default:d(()=>[D(" За "+A(a.year)+" год записей не найдено ",1)]),_:1})]),_:1})):(l(),v(x,{key:1,color:"transparent",class:"calendar"},{default:d(()=>[(l(),g(h,null,I(12,s=>i(o(k),{key:`${a.year}_month_${s}`,year:+a.year,loading:u.value,"month-index":s-1,sub:a.sub},null,8,["year","loading","month-index","sub"])),64))]),_:1}))],64))}});const B=L(R,[["__scopeId","data-v-694d11c0"]]);export{B as default};
