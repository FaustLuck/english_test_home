import{_ as k,d as h,m as u,e as _,g,f as m,i as n,q as d,s as c,u as v,F as y,k as V,b as x,c as L,o,x as D,a as S,p as C,j as E,r as f}from"./main-14d54435.js";import{s as I}from"./settingsStore-8e26d6c8.js";const U={name:"SettingsView",components:{testDifficultComponent:h(()=>S(()=>import("./testDifficultComponent-824e90fb.js"),["js/testDifficultComponent-824e90fb.js","js/main-14d54435.js","css/main-0fdc12b1.css","js/settingsStore-8e26d6c8.js","css/testDifficultComponent-cfebc989.css"])),preloaderComponent:h(()=>S(()=>import("./preloaderComponent-49e9488e.js"),["js/preloaderComponent-49e9488e.js","js/main-14d54435.js","css/main-0fdc12b1.css","css/preloaderComponent-82881bbd.css"]))},data(){return{min:0,sec:0,localVariants:0,localLimits:{}}},watch:{timer(s){s&&this.setSettingsToLocal()}},computed:{...u(I,["timer","dictionary","limits","variants"]),...u(x,["sub"]),...u(L,["orderDifficult","isLoading"]),minVariantCount(){let s=[];for(let e in this.dictionary)s.push(this.dictionary[e].length);return Math.min(...s)}},methods:{..._(I,["getSettings","saveTimer","saveVariants","saveLimits"]),..._(L,["setLoading"]),timeToString(){this.sec=(this.timer%60).toString().padStart(2,"0"),this.min=(this.timer-this.sec)/60},change(s,e){const{max:r,min:l,type:i}=s.target.dataset;if(i!=="limits"){if(this[i]>parseInt(r)&&(this[i]=r),this[i]<parseInt(l)&&(this[i]=l),["min","sec"].includes(i)){const a=this.min*60+ +this.sec;this.timeToString(),this.saveTimer({timer:a})}i==="localVariants"&&this.saveVariants({variants:this.localVariants})}else this.localLimits[e]>parseInt(r)&&(this.localLimits[e]=r),this.localLimits[e]<parseInt(l)&&(this.localLimits[e]=l),this.saveLimits({difficult:e,limit:this.localLimits[e]});s.target.style.backgroundColor="#dddd5d"},setSettingsToLocal(){this.timeToString(),this.localVariants=this.variants,this.localLimits=this.limits,this.setLoading(!1)}},async mounted(){this.timer?this.setSettingsToLocal():await this.getSettings({sub:this.sub})}},b=s=>(C("data-v-0e5f25de"),s=s(),E(),s),A={key:1,class:"settings"},B={class:"settings__row"},P=b(()=>n("span",null,"Ограничение по времени: ",-1)),F={class:"settings__row"},M=b(()=>n("span",null,"Количество вариантов ответов: ",-1)),N=["data-max"],O=["data-max","onUpdate:modelValue","onInput"],R={class:"container"};function j(s,e,r,l,i,a){const w=f("preloader-component"),T=f("test-difficult-component");return s.isLoading?(o(),g(w,{key:0})):(o(),m("div",A,[n("div",B,[P,n("div",null,[d(n("input",{"data-max":"59","data-min":"0","data-type":"min",type:"number","onUpdate:modelValue":e[0]||(e[0]=t=>i.min=t),onInput:e[1]||(e[1]=(...t)=>a.change&&a.change(...t))},null,544),[[c,i.min,void 0,{number:!0}]]),v(" мин "),d(n("input",{"data-max":"59","data-min":"1","data-type":"sec",type:"number","onUpdate:modelValue":e[2]||(e[2]=t=>i.sec=t),onInput:e[3]||(e[3]=(...t)=>a.change&&a.change(...t))},null,544),[[c,i.sec,void 0,{number:!0}]]),v(" сек ")])]),n("div",F,[M,n("div",null,[d(n("input",{"data-max":a.minVariantCount,"data-min":"2","data-type":"localVariants",type:"number","onUpdate:modelValue":e[4]||(e[4]=t=>i.localVariants=t),onInput:e[5]||(e[5]=(...t)=>a.change&&a.change(...t))},null,40,N),[[c,i.localVariants,void 0,{number:!0}]])])]),(o(!0),m(y,null,V(s.orderDifficult,t=>(o(),m("div",{class:"settings__row",key:"limit"+t},[n("span",null,"Количество вопросов "+D(t)+": ",1),n("div",null,[d(n("input",{"data-max":s.dictionary[t].length,"data-type":"limits","data-min":"1",type:"number","onUpdate:modelValue":p=>i.localLimits[t]=p,onInput:p=>a.change(p,t)},null,40,O),[[c,i.localLimits[t],void 0,{number:!0}]])])]))),128)),n("div",R,[(o(!0),m(y,null,V(s.orderDifficult,t=>(o(),g(T,{key:t,difficult:t,"part-answers":s.dictionary[t]},null,8,["difficult","part-answers"]))),128))])]))}const G=k(U,[["render",j],["__scopeId","data-v-0e5f25de"]]);export{G as default};
