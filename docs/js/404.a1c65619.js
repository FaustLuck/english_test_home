(function(){"use strict";var e={3238:function(e,t,n){var i=n(9242),s=n(3396);function a(e,t,n,i,a,o){const r=(0,s.up)("layout-component"),u=(0,s.up)("header-component"),c=(0,s.up)("menu-component"),d=(0,s.up)("router-view");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.Wm)(r),(0,s.Wm)(u),(0,s.Wm)(c),(0,s._)("form",null,[((0,s.wg)(),(0,s.j4)(d,{key:e.$route.fullPath}))])],64)}var o={components:{headerComponent:(0,s.RC)((()=>n.e(630).then(n.bind(n,7630)))),layoutComponent:(0,s.RC)((()=>n.e(350).then(n.bind(n,1350)))),menuComponent:(0,s.RC)((()=>n.e(505).then(n.bind(n,9429))))}},r=n(89);const u=(0,r.Z)(o,[["render",a]]);var c=u,d=n(2483),l=n(5184);const m=[{path:"/",name:"test",component:()=>n.e(351).then(n.bind(n,4351))},{path:"/result",name:"result",component:()=>n.e(895).then(n.bind(n,7895))},{path:"/users",name:"users",component:()=>n.e(882).then(n.bind(n,3882)),meta:{requireAuth:!0}},{path:"/statistic:sub",name:"statistic",props:!0,component:()=>n.e(400).then(n.bind(n,4418)),meta:{requireAuth:!0}},{path:"/settings",name:"settings",component:()=>n.e(339).then(n.bind(n,4339)),meta:{requireAuth:!0}},{path:"/fire-show",name:"fire-show",component:()=>n.e(908).then(n.bind(n,2908))},{path:"/fail-show",name:"fail-show",component:()=>n.e(908).then(n.bind(n,2908))}],f=(0,d.p7)({history:(0,d.PO)("/english_test_home/"),routes:m});f.beforeEach((async e=>{const{result:t,test:n}=l.Z.state.test,{sub:i}=l.Z.state.auth,s=e.name;return"test"!==s?l.Z.commit("setLoading",!0):l.Z.commit("setLoading",!1),l.Z.commit("setMode",s),"result"===s&&null===n||null===t&&["fire-show","fail-show"].includes(s)||e.meta.requireAuth&&null===i?{name:"test"}:void 0}));var g=f;(0,i.ri)(c).use(l.Z).use(g).mount("#app")},5184:function(e,t,n){n.d(t,{Z:function(){return c}});var i=n(65),s=n(2648);const a={namespaced:!0,state:{admin:null,privileged:!1,sub:null,name:null,picture:null,tests:null},mutations:{changeLoginStatus(e,t){Object.assign(e,t)}},actions:{async googleInitialize({dispatch:e,commit:t}){google.accounts.id.initialize({client_id:await e("getID"),auto_select:!0,callback:async e=>{{const n=e.credential,i=await(0,s.W)("login",{token:n});t("changeLoginStatus",i)}}}),google.accounts.id.renderButton(document.getElementById("google"),{type:"icon",shape:"circle",theme:"outline",size:"large"}),google.accounts.id.prompt()},async getID(){return await(0,s.W)("id",null,"GET")}}},o={namespaced:!0,state:{dictionary:null,limits:null,timer:null,variants:null,isSaved:!0,editingIndex:null,editingDifficult:null,editingItem:null},mutations:{saveSettings(e,t){Object.assign(e,t)},addItem(e,{difficult:t,item:n}){n.included=!0,e.dictionary[t].push(n),e.dictionary[t].sort(((e,t)=>e.question<t.question?-1:1))},startEdit(e,{index:t,difficult:n}){Object.assign(e,{editingIndex:t,editingDifficult:n}),e.editingItem={...e.dictionary[n][t]}},clearEdit(e){e.editingIndex=null,e.editingDifficult=null,e.editingItem=null},cancelEdit(e,{index:t,difficult:n}){const{oldAnswer:i,oldQuestion:s}=e.dictionary[n][t];e.dictionary[n][t].answer=i,e.dictionary[n][t].question=s,delete e.dictionary[n][t].edited},deleteItem(e,{index:t,difficult:n}){let i=e.dictionary[n][t];i?.included?e.dictionary[n].splice(t,1):i.excluded=!0},removeIncluded(e,{index:t,difficult:n}){e.dictionary[n].splice(t,1)},returnDeletedItem(e,{index:t,difficult:n}){let i=e.dictionary[n][t];delete i.excluded},editItem(e){const t=e.editingItem;let n=e.dictionary[e.editingDifficult][e.editingIndex];t?.oldAnswer===t.answer&&t.oldQuestion===t.question?(delete t.edited,delete t.oldQuestion,delete t.oldAnswer,n=t):(n.edited=!0,n?.oldAnswer||(n.oldAnswer=n.answer),n?.oldQuestion||(n.oldQuestion=n.question),Object.assign(n,t))},changeSaved(e,t){e.isSaved=t,window.onbeforeunload=t?null:()=>!1}},actions:{async getSettings({commit:e},{sub:t}){const n=await(0,s.W)(`getSettings/${t}`,null,"GET");e("saveSettings",n)},async addItem({commit:e,dispatch:t},{difficult:n,item:i}){const s=await t("checkItem",{difficult:n,item:i});s&&(e("changeSaved",!1),e("addItem",{difficult:n,item:i}))},checkItem({state:e},{difficult:t,item:n}){const i=e.dictionary[t].findIndex((e=>e.question===n.question||e.answer===n.answer));return-1===i},deleteItem({commit:e},{index:t,difficult:n}){e("changeSaved",!1),e("deleteItem",{index:t,difficult:n})},async finishEdit({commit:e,dispatch:t}){const n=await t("isChanged");n&&(e("changeSaved",!1),e("editItem")),e("clearEdit")},isChanged({state:e}){const t=e.editingItem,n=e.dictionary[e.editingDifficult][e.editingIndex];return t.question!==n.question||t.answer!==n.answer},async saveChanges({commit:e,dispatch:t},n){const i=await t("assembleChanges");await(0,s.W)("saveChanges",{sub:n,changes:i}),await t("getSettings",{sub:n});const a=await(0,s.W)(`getSettings/${n}`,null,"GET");e("changeSaved",!0),e("saveSettings",a)},assembleChanges({state:e}){let t={};for(let n in e.dictionary){let i=e.dictionary[n].filter((e=>e.included||e.edited||e.excluded));i.length&&(t[n]=i,t[n]=t[n].map((e=>{e?.excluded&&(delete e.edited,delete e.included),e?.edited&&(delete e.oldAnswer,delete e.oldQuestion);let t=[];return t[0]=e.key??null,(e?.included||e?.edited)&&t.push(e.question,e.answer),t})))}return t}}},r={namespaced:!0,state:{statistic:null,dateList:null,users:null},mutations:{saveUsers(e,t){e.users=t?.length?t:[t]},saveDateList(e,t){e.dateList=t}},actions:{async getUsers({commit:e},{sub:t}){const n=await(0,s.W)(`getusers/${t}`,null,"GET");e("saveUsers",n)},async getDateList({commit:e},t){const n=await(0,s.W)(`getdatelist/${t}`,null,"GET");e("saveDateList",n)},async getTimeList(e,{date:t,sub:n}){return await(0,s.W)(`getTimeList/${n}/${t}`,null,"GET")},async getResult(e,{sub:t,timestamp:n}){return(0,s.W)(`getTest/${t}/${n}`,null,"GET")}}},u={namespaced:!0,state:{isTesting:!1,timeSpent:null,timestamp:null,timeLeft:null,test:null,result:null,SPEECH:null,timer:null},mutations:{saveTimes(e){e.timeSpent=e.timer-e.timeLeft;let t=new Date;e.timestamp=t.setSeconds(0,0)},changeTestStatus(e,t){e.isTesting=t},saveChoice(e,{choice:t,key:n}){let[i]=e.test.filter((e=>e.key===n));i.choice=t},saveTimerSec(e,t){e.timeLeft=t},saveTest(e,{test:t,SPEECH:n,timer:i}){Object.assign(e,{test:t,SPEECH:n,timer:i})},saveResult(e,t){Object.assign(e,{result:t})}},actions:{async getTest({commit:e},{sub:t=""}){const n=await(0,s.W)(`test/${t}`,null,"GET");e("saveTest",n)},async checkTest({state:e,commit:t},{sub:n}){let i=e.test.map((e=>(e?.answer&&delete e.answer,e)));const a=await(0,s.W)("check",{test:i,sub:n});t("saveResult",a)},async saveTest({state:e},{sub:t}){const n={test:e.result,timeSpent:e.timeSpent,timeLeft:e.timeLeft,timestamp:e.timestamp,sub:t};await(0,s.W)("updateHistory",n)}}};var c=(0,i.MT)({state:{orderDifficult:["easy","medium","hard"],menuHeight:0,isLoading:!1,mode:null,isOpen:!1,message:"",isAnimate:!1},getters:{},mutations:{setMenuHeight(e,t){e.menuHeight=t},setLoading(e,t){e.isLoading=t},setMode(e,t){e.mode=t},setOpen(e,t){"settings"===e.mode&&(e.isOpen=t)},setMessage(e,t){e.message=t},clearMessage(e){e.message=""},setAnimationStatus(e,t){e.isAnimate=t}},modules:{auth:a,settings:o,statistic:r,test:u}})},2648:function(e,t,n){function i(e){return new Intl.DateTimeFormat("ru-Ru",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}).format(new Date(parseInt(e))).split(", ")}async function s(e,t,n="POST"){""===t&&(t={});const i="POST"===n?JSON.stringify(t):null,s=await fetch(`https://englishspace-1-g1233964.deta.app/${e}`,{headers:{"Content-Type":"application/json"},method:n,body:i});return!!s.ok&&await s.json()}n.d(t,{W:function(){return s},_:function(){return i}})}},t={};function n(i){var s=t[i];if(void 0!==s)return s.exports;var a=t[i]={exports:{}};return e[i](a,a.exports,n),a.exports}n.m=e,function(){var e=[];n.O=function(t,i,s,a){if(!i){var o=1/0;for(d=0;d<e.length;d++){i=e[d][0],s=e[d][1],a=e[d][2];for(var r=!0,u=0;u<i.length;u++)(!1&a||o>=a)&&Object.keys(n.O).every((function(e){return n.O[e](i[u])}))?i.splice(u--,1):(r=!1,a<o&&(o=a));if(r){e.splice(d--,1);var c=s();void 0!==c&&(t=c)}}return t}a=a||0;for(var d=e.length;d>0&&e[d-1][2]>a;d--)e[d]=e[d-1];e[d]=[i,s,a]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}}(),function(){n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,i){return n.f[i](e,t),t}),[]))}}(),function(){n.u=function(e){return"js/"+e+"."+{83:"e345dbdc",339:"7bb0f302",340:"c89cba6b",350:"14b2bea0",351:"f9f881dd",355:"c96df078",370:"352bfeef",371:"b18cdf46",400:"4513fa85",437:"7ac5a59a",492:"8c40df56",505:"799ad945",630:"19285072",676:"c2deb5fa",822:"3554424a",874:"3ddc2596",882:"58b0b050",892:"7a9460db",895:"7cda304a",908:"7976ea7d",936:"119fbd96",979:"0901d2f6",980:"83d5c67a"}[e]+".js"}}(),function(){n.miniCssF=function(e){return"css/"+e+"."+{83:"d6bb632b",339:"6563a34f",340:"f2d1338c",350:"944ca54c",355:"d37a6c36",371:"14268c08",400:"c8feed04",437:"a26468ea",492:"97e5cefc",505:"226869d1",630:"d2a93901",822:"05a55221",874:"d4c25cd5",882:"098168d7",892:"b1739079",908:"1b93829e",979:"b653ed8d",980:"3f8b378e"}[e]+".css"}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="english_test_home:";n.l=function(i,s,a,o){if(e[i])e[i].push(s);else{var r,u;if(void 0!==a)for(var c=document.getElementsByTagName("script"),d=0;d<c.length;d++){var l=c[d];if(l.getAttribute("src")==i||l.getAttribute("data-webpack")==t+a){r=l;break}}r||(u=!0,r=document.createElement("script"),r.charset="utf-8",r.timeout=120,n.nc&&r.setAttribute("nonce",n.nc),r.setAttribute("data-webpack",t+a),r.src=i),e[i]=[s];var m=function(t,n){r.onerror=r.onload=null,clearTimeout(f);var s=e[i];if(delete e[i],r.parentNode&&r.parentNode.removeChild(r),s&&s.forEach((function(e){return e(n)})),t)return t(n)},f=setTimeout(m.bind(null,void 0,{type:"timeout",target:r}),12e4);r.onerror=m.bind(null,r.onerror),r.onload=m.bind(null,r.onload),u&&document.head.appendChild(r)}}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){n.p="/english_test_home/"}(),function(){var e=function(e,t,n,i){var s=document.createElement("link");s.rel="stylesheet",s.type="text/css";var a=function(a){if(s.onerror=s.onload=null,"load"===a.type)n();else{var o=a&&("load"===a.type?"missing":a.type),r=a&&a.target&&a.target.href||t,u=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");u.code="CSS_CHUNK_LOAD_FAILED",u.type=o,u.request=r,s.parentNode.removeChild(s),i(u)}};return s.onerror=s.onload=a,s.href=t,document.head.appendChild(s),s},t=function(e,t){for(var n=document.getElementsByTagName("link"),i=0;i<n.length;i++){var s=n[i],a=s.getAttribute("data-href")||s.getAttribute("href");if("stylesheet"===s.rel&&(a===e||a===t))return s}var o=document.getElementsByTagName("style");for(i=0;i<o.length;i++){s=o[i],a=s.getAttribute("data-href");if(a===e||a===t)return s}},i=function(i){return new Promise((function(s,a){var o=n.miniCssF(i),r=n.p+o;if(t(o,r))return s();e(i,r,s,a)}))},s={596:0,826:0};n.f.miniCss=function(e,t){var n={83:1,339:1,340:1,350:1,355:1,371:1,400:1,437:1,492:1,505:1,630:1,822:1,874:1,882:1,892:1,908:1,979:1,980:1};s[e]?t.push(s[e]):0!==s[e]&&n[e]&&t.push(s[e]=i(e).then((function(){s[e]=0}),(function(t){throw delete s[e],t})))}}(),function(){var e={596:0,826:0};n.f.j=function(t,i){var s=n.o(e,t)?e[t]:void 0;if(0!==s)if(s)i.push(s[2]);else{var a=new Promise((function(n,i){s=e[t]=[n,i]}));i.push(s[2]=a);var o=n.p+n.u(t),r=new Error,u=function(i){if(n.o(e,t)&&(s=e[t],0!==s&&(e[t]=void 0),s)){var a=i&&("load"===i.type?"missing":i.type),o=i&&i.target&&i.target.src;r.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",r.name="ChunkLoadError",r.type=a,r.request=o,s[1](r)}};n.l(o,u,"chunk-"+t,t)}},n.O.j=function(t){return 0===e[t]};var t=function(t,i){var s,a,o=i[0],r=i[1],u=i[2],c=0;if(o.some((function(t){return 0!==e[t]}))){for(s in r)n.o(r,s)&&(n.m[s]=r[s]);if(u)var d=u(n)}for(t&&t(i);c<o.length;c++)a=o[c],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return n.O(d)},i=self["webpackChunkenglish_test_home"]=self["webpackChunkenglish_test_home"]||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))}();var i=n.O(void 0,[998],(function(){return n(3238)}));i=n.O(i)})();