import{_ as n,m as a,c as s,o as l,e as m,n as h}from"./main-78052a6c.js";const c={name:"layoutComponent",data(){return{isColored:null,timeWarning:30,timeAlert:10,animationStart:null,animationID:0,colorDefault:{r:255,g:218,b:185},colorWarning:{r:255,g:140,b:105},colorAlert:{r:255,g:0,b:0},colorDelta:{},color:{},durationStep:4e3}},computed:{...a("test",["timeLeft"]),...a(["mode","isOpen"])},watch:{timeLeft(t){t>this.timeAlert&&t<=this.timeWarning&&(t===18&&(this.durationStep=2e3),this.colorWarning=this.addDelta(this.colorWarning,this.colorDelta),this.isColored===null&&(this.isColored=!1)),t>0&&t<=this.timeAlert&&(cancelAnimationFrame(this.animationID),this.$el.style=""),t===0&&(this.$el.style.backgroundColor="transparent")},mode(t,e){e==="test"&&t==="result"&&(this.$el.style="")},isColored(){cancelAnimationFrame(this.animationID),this.animationStart=null,!(this.timeLeft<=this.timeAlert)&&(this.isColored||(this.color={...this.colorWarning}),this.animationID=requestAnimationFrame(this.animate))}},methods:{...s(["setOpen"]),changeColor(){this.isColored=!this.isColored},animate(){this.animationStart||(this.animationStart=performance.now());let t=(performance.now()-this.animationStart)/this.durationStep;t>1&&(t=1);let e=this.isColored?this.calculateColor(this.colorDefault,this.color,t):this.calculateColor(this.color,this.colorDefault,t);this.draw(e),t<1&&requestAnimationFrame(this.animate),t===1&&this.changeColor()},draw({r:t,g:e,b:i}){this.$el.style.backgroundColor=`rgb(${t}, ${e}, ${i})`},calculateColor(t,e,i){let o={};for(let r in t)o[r]=e[r]+(t[r]-e[r])*i;return o},addDelta(t,e){let i={};for(let o in t)i[o]=t[o]+e[o];return i}},created(){let t=this.timeWarning-this.timeAlert;for(let e in this.colorAlert)this.colorDelta[e]=(this.colorAlert[e]-this.colorWarning[e])/t}};function d(t,e,i,o,r,u){return l(),m("div",{class:h(["layout",{alert:t.timeLeft>0&&t.timeLeft<=r.timeAlert&&t.mode==="test",transparent:t.mode==="settings",open:t.isOpen}]),onClick:e[0]||(e[0]=f=>t.setOpen(!1))},null,2)}const g=n(c,[["render",d],["__scopeId","data-v-dc73acee"]]);export{g as default};
