"use strict";(self["webpackChunkenglish_test_home"]=self["webpackChunkenglish_test_home"]||[]).push([[540],{1540:function(t,e,i){i.r(e),i.d(e,{default:function(){return T}});var s=i(3396),n=i(7139);const l=t=>((0,s.dD)("data-v-6958234b"),t=t(),(0,s.Cn)(),t),r={key:0,class:"info__login"},a={class:"info__detail-clickable"},o={class:"info__detail"},d=l((()=>(0,s._)("span",null,"Время тестирования:",-1))),h={class:"info__detail"},c=l((()=>(0,s._)("span",null,"Кол-во верных ответов / вопросов:",-1))),u={class:"info__detail"},p=l((()=>(0,s._)("span",null,"Времени затрачено:",-1))),m={key:0,class:"info__detail-fail"},g=l((()=>(0,s._)("span",null,"Время вышло!",-1))),f=[g],w={key:1};function _(t,e,i,l,g,_){const y=(0,s.up)("test-difficult-component");return(0,s.wg)(),(0,s.iD)("section",{class:(0,n.C_)(["info",{fail:_.isFail&&"result"!==_.mode&&!g.displayMode,congratulation:_.isCongratulation&&"result"!==_.mode&&!g.displayMode}]),onClick:e[0]||(e[0]=(...t)=>_.changeDisplayMode&&_.changeDisplayMode(...t))},["result"===_.mode?((0,s.wg)(),(0,s.iD)("div",r,(0,n.zw)(t.isLogin?t.displayName:"Вход не выполнен"),1)):(0,s.kq)("",!0),(0,s._)("div",a,[(0,s._)("div",o,[d,(0,s._)("span",null,(0,n.zw)(g.localDate)+" "+(0,n.zw)(g.localTime),1)]),(0,s._)("div",h,[c,(0,s._)("span",null,(0,n.zw)(_.correctAnswers)+" / "+(0,n.zw)(_.lengthAnswers),1)]),(0,s._)("div",u,[p,(0,s._)("span",null,(0,n.zw)(_.timeSpentToString),1)]),_.isFail&&"result"===_.mode?((0,s.wg)(),(0,s.iD)("div",m,f)):(0,s.kq)("",!0)]),g.displayMode>0?((0,s.wg)(),(0,s.iD)("div",w,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t.orderDifficult,(t=>((0,s.wg)(),(0,s.j4)(y,{key:t,difficult:t,"part-answers":1===g.displayMode?_.filterTest(t):g.test[t]},null,8,["difficult","part-answers"])))),128))])):(0,s.kq)("",!0)],2)}var y=i(6623),S=i(8661),M={name:"testInfoComponent",components:{testDifficultComponent:(0,s.RC)((()=>i.e(49).then(i.bind(i,6049))))},props:{answers:Object,timestamp:Number,date:String,time:String,heightTitle:Number},data(){return{localDate:"",localTime:"",test:null,timeSpent:0,displayMode:0}},computed:{...(0,y.rn)("auth",["displayName","isLogin"]),...(0,y.Se)("settings",["getTimer"]),...(0,y.rn)(["orderDifficult"]),timerStart(){if(!this.getTimer)return;let{min:t,sec:e}=this.getTimer;return 60*t+e},mode(){return this.$route.name},lengthAnswers(){return Object.values(this.test).reduce(((t,e)=>t+e.length),0)},correctAnswers(){return Object.values(this.test).reduce(((t,e)=>t+e.filter((t=>t.answer===t.choice)).length),0)},timeSpentToString(){let t=(this.timeSpent%60).toString().padStart(2,"0"),e=(this.timeSpent-t)/60;return`${e}:${t}`},isCongratulation(){return this.lengthAnswers===this.correctAnswers},isFail(){return this.timerStart===this.answers.timeSpent}},methods:{changeDisplayMode(t){if("result"===this.mode)return;if(this.displayMode++,this.displayMode>2&&(this.displayMode=0),!this.isCongratulation&&this.correctAnswers||1!==this.displayMode||(this.displayMode=2),0===this.displayMode)return;let e=t.target.closest(".info");setTimeout((()=>this.scroll(e)),0)},scroll(t){let e=t.getBoundingClientRect().top;e!==this.heightTitle&&this.displayMode>0&&window.scrollBy({top:e-this.heightTitle,behavior:"smooth"})},filterTest(t){return this.test[t].filter((t=>t.answer!==t.choice))}},created(){({test:this.test,timeSpent:this.timeSpent}={...this.answers}),this.isCongratulation&&this.$emit("show","fire"),this.isFail&&this.$emit("show","fail"),[this.localDate,this.localTime]="result"===this.mode?(0,S._)(this.timestamp):[this.date,this.time],"result"===this.mode&&(this.displayMode=2)}},v=i(89);const D=(0,v.Z)(M,[["render",_],["__scopeId","data-v-6958234b"]]);var T=D}}]);