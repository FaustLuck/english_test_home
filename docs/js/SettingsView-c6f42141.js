import{_ as I,d as _,m as p,b as w,c as T,g as h,e as m,i,l as d,q as c,F as g,k as v,s as L,o as r,t as k,a as y,p as x,j as D,r as V}from"./main-2a3cd1b3.js";const C={name:"SettingsView",components:{testDifficultComponent:_(()=>y(()=>import("./testDifficultComponent-ff6c1602.js"),["js/testDifficultComponent-ff6c1602.js","js/main-2a3cd1b3.js","css/main-df3f9d20.css","css/testDifficultComponent-a08c258f.css"])),preloaderComponent:_(()=>y(()=>import("./preloaderComponent-02e22959.js"),["js/preloaderComponent-02e22959.js","js/main-2a3cd1b3.js","css/main-df3f9d20.css","css/preloaderComponent-82881bbd.css"]))},data(){return{min:0,sec:0,localVariants:0,localLimits:{}}},watch:{timer(s){s&&this.setSettingsToLocal()}},computed:{...p("settings",["timer","dictionary","limits","variants"]),...p("auth",["sub"]),...p(["orderDifficult","isLoading"]),minVariantCount(){let s=[];for(let e in this.dictionary)s.push(this.dictionary[e].length);return Math.min(...s)}},methods:{...w("settings",["getSettings","saveTimer","saveVariants","saveLimits"]),...T(["setLoading"]),timeToString(){this.sec=(this.timer%60).toString().padStart(2,"0"),this.min=(this.timer-this.sec)/60},change(s,e){const{max:l,type:o}=s.target.dataset;if(o!=="limits"){if(this[o]>parseInt(l)&&(this[o]=l),["min","sec"].includes(o)){const n=this.min*60+ +this.sec;this.timeToString(),this.saveTimer({timer:n})}o==="localVariants"&&this.saveVariants({variants:this.localVariants})}else this.localLimits[e]>parseInt(l)&&(this.localLimits[e]=l),this.saveLimits({difficult:e,limit:this.localLimits[e]});s.target.style.backgroundColor="#dddd5d"},setSettingsToLocal(){this.timeToString(),this.localVariants=this.variants,this.localLimits=this.limits,this.setLoading(!1)}},async mounted(){this.timer?this.setSettingsToLocal():await this.getSettings({sub:this.sub})}},S=s=>(x("data-v-13109957"),s=s(),D(),s),E={key:1,class:"settings"},U={class:"settings__row"},A=S(()=>i("span",null,"Ограничение по времени: ",-1)),B=L(" мин "),M=L(" сек "),P={class:"settings__row"},F=S(()=>i("span",null,"Количество вариантов ответов: ",-1)),N=["data-max"],O=["data-max","onUpdate:modelValue","onInput"],R={class:"container"};function j(s,e,l,o,n,a){const f=V("preloader-component"),b=V("test-difficult-component");return s.isLoading?(r(),h(f,{key:0})):(r(),m("div",E,[i("div",U,[A,i("div",null,[d(i("input",{"data-max":"59","data-type":"min",type:"number","onUpdate:modelValue":e[0]||(e[0]=t=>n.min=t),onInput:e[1]||(e[1]=(...t)=>a.change&&a.change(...t))},null,544),[[c,n.min,void 0,{number:!0}]]),B,d(i("input",{"data-max":"59","data-type":"sec",type:"number","onUpdate:modelValue":e[2]||(e[2]=t=>n.sec=t),onInput:e[3]||(e[3]=(...t)=>a.change&&a.change(...t))},null,544),[[c,n.sec,void 0,{number:!0}]]),M])]),i("div",P,[F,i("div",null,[d(i("input",{"data-max":a.minVariantCount,"data-type":"localVariants",type:"number","onUpdate:modelValue":e[4]||(e[4]=t=>n.localVariants=t),onInput:e[5]||(e[5]=(...t)=>a.change&&a.change(...t))},null,40,N),[[c,n.localVariants,void 0,{number:!0}]])])]),(r(!0),m(g,null,v(s.orderDifficult,t=>(r(),m("div",{class:"settings__row",key:"limit"+t},[i("span",null,"Количество вопросов "+k(t)+": ",1),i("div",null,[d(i("input",{"data-max":s.dictionary[t].length,"data-type":"limits",type:"number","onUpdate:modelValue":u=>n.localLimits[t]=u,onInput:u=>a.change(u,t)},null,40,O),[[c,n.localLimits[t],void 0,{number:!0}]])])]))),128)),i("div",R,[(r(!0),m(g,null,v(s.orderDifficult,t=>(r(),h(b,{key:t,difficult:t,"part-answers":s.dictionary[t]},null,8,["difficult","part-answers"]))),128))])]))}const z=I(C,[["render",j],["__scopeId","data-v-13109957"]]);export{z as default};
