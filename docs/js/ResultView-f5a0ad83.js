import{d as w,n as i,_ as c,D as l,v as t,s as h,E as T,q as R,p as E,H as V,o as C,c as b,w as q,b as m,u as e,I as A,C as D}from"./main-ecb08509.js";const I=w({__name:"ResultView",setup(g){const p=i(()=>c(()=>import("./ResultDetail-fdd36266.js"),["js/ResultDetail-fdd36266.js","js/main-ecb08509.js","css/main-a045c51a.css"])),_=i(()=>c(()=>import("./ResultHeader-c378f754.js"),["js/ResultHeader-c378f754.js","js/main-ecb08509.js","css/main-a045c51a.css","js/timeToString-e34e66a4.js"])),{timestamp:f,result:o,correct:n,timeSpent:d}=l(t()),{sub:s}=l(h());T(s,async a=>{a&&await t().saveTest(s.value)}),R(async()=>{await t().getVerifiedTest(),s.value&&await t().saveTest(s.value)});const r=E(()=>o?Object.values(o.value).flat(1).length:0),v=D();function u(a){setTimeout(()=>{v.replace({name:"show",params:{nameShow:a}})},3e3)}return V(()=>{t().timeLeft===0&&u("fail"),r.value>0&&r.value===n.value&&u("fire")}),(a,x)=>(C(),b(A,{class:"pa-3 pb-5 ma-3",elevation:"5",color:"transparent",rounded:"lg"},{default:q(()=>[m(e(_),{timestamp:e(f),correct:e(n),"time-spent":e(d),questions:e(r)},null,8,["timestamp","correct","time-spent","questions"]),m(e(p),{result:e(o)},null,8,["result"])]),_:1}))}});export{I as default};
