(function(){"use strict";var t={8253:function(t,e,n){var i=n(9242),a=n(3396);function s(t,e,n,i,s,o){const r=(0,a.up)("layout-component"),u=(0,a.up)("menu-component"),c=(0,a.up)("router-view");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(r),(0,a.Wm)(u),(0,a._)("form",null,[((0,a.wg)(),(0,a.j4)(c,{key:t.$route.fullPath}))])],64)}var o={components:{layoutComponent:(0,a.RC)((()=>n.e(58).then(n.bind(n,3058)))),menuComponent:(0,a.RC)((()=>n.e(873).then(n.bind(n,5608))))}},r=n(89);const u=(0,r.Z)(o,[["render",s]]);var c=u,l=n(2483),m=n(65),f=n(2648);const d={namespaced:!0,state:{admin:null,privileged:!1,isLogin:null,sub:null,name:null,picture:null},mutations:{changeLoginStatus(t,e){Object.assign(t,e),t.isLogin=!0}},actions:{async googleInitialize({dispatch:t,commit:e}){google.accounts.id.initialize({client_id:await t("getID"),auto_select:!0,callback:async t=>{{const n=t.credential,i=await(0,f.W)("login",{token:n});e("changeLoginStatus",i)}}}),google.accounts.id.renderButton(document.getElementById("google"),{type:"icon",shape:"circle",theme:"outline",size:"large"}),google.accounts.id.prompt()},async getID(){return await(0,f.W)("id",null,"GET")}}},g={namespaced:!0,state:{dictionary:null,limits:null,timer:null,variants:null},mutations:{saveSettings(t,e){Object.assign(t,e)}},actions:{async getSettings({commit:t},{sub:e}){const n=await(0,f.W)(`getSettings/${e}`,null,"GET");t("saveSettings",n)}}},p={namespaced:!0,state:{statistic:null,dateList:null,users:null},mutations:{saveUsers(t,e){t.users=e},saveDateList(t,e){t.dateList=e}},actions:{async getUsers({commit:t},{sub:e}){const n=await(0,f.W)(`getusers/${e}`,null,"GET");return t("saveUsers",n),n?.length>1},async getDateList({commit:t},e){const n=await(0,f.W)(`getdatelist/${e}`,null,"GET");t("saveDateList",n)},async getTimeList(t,{date:e,sub:n}){return await(0,f.W)(`getTimeList/${n}/${e}`,null,"GET")},async getResult(t,{sub:e,timestamp:n}){return(0,f.W)(`getTest/${e}/${n}`,null,"GET")}}},h={namespaced:!0,state:{isTesting:!1,timeSpent:null,timestamp:null,timeLeft:null,test:null,result:null,SPEECH:null,timer:null},mutations:{saveTimes(t){t.timeSpent=t.timer-t.timeLeft;let e=new Date;t.timestamp=e.setSeconds(0,0)},changeTestStatus(t,e){t.isTesting=e},saveChoice(t,{choice:e,question:n}){let[i]=t.test.filter((t=>t.question===n));i.choice=e},saveTimerSec(t,e){t.timeLeft=e},saveTest(t,{test:e,SPEECH:n,timer:i}){Object.assign(t,{test:e,SPEECH:n,timer:i})},saveResult(t,e){Object.assign(t,{result:e})}},actions:{async getTest({commit:t},{sub:e=""}){const n=await(0,f.W)(`test/${e}`,null,"GET");t("saveTest",n)},async checkTest({state:t,commit:e}){let n=t.test.map((t=>(t?.answer&&delete t.answer,t)));const i=await(0,f.W)("check",{test:n});e("saveResult",i)},async saveTest({state:t},{sub:e}){const n={test:t.result,timeSpent:t.timeSpent,timeLeft:t.timeLeft,timestamp:t.timestamp,sub:e};await(0,f.W)("save",n)}}};var b=(0,m.MT)({state:{orderDifficult:["easy","medium","hard"],menuHeight:0,isLoading:!1},getters:{},mutations:{setMenuHeight(t,e){t.menuHeight=e},setLoading(t,e){t.isLoading=e}},actions:{},modules:{auth:d,settings:g,statistic:p,test:h}});const v=[{path:"/",name:"test",component:()=>n.e(567).then(n.bind(n,4567))},{path:"/result",name:"result",component:()=>n.e(304).then(n.bind(n,7304))},{path:"/users",name:"users",component:()=>n.e(15).then(n.bind(n,1015))},{path:"/statistic:sub",name:"statistic",props:!0,component:()=>n.e(350).then(n.bind(n,1350))},{path:"/settings",name:"settings",component:()=>n.e(770).then(n.bind(n,5770))},{path:"/fire-show",name:"fire-show",component:()=>n.e(612).then(n.bind(n,5612))},{path:"/fail-show",name:"fail-show",component:()=>n.e(612).then(n.bind(n,5612))}],y=(0,l.p7)({history:(0,l.PO)("/english_test_home/"),routes:v});y.beforeEach((async t=>{const{sub:e,isLogin:n}=b.state.auth;if(!["test","result"].includes(t.name)&&!n)return{name:"test"};if("users"===t.name){const t=await b.dispatch("statistic/getUsers",{sub:e});return!!t||{name:"statistic",params:{sub:e}}}return"statistic"===t.name?(await b.dispatch("statistic/getDateList",t.params.sub),!!n||{name:"test"}):void 0}));var w=y;(0,i.ri)(c).use(b).use(w).mount("#app")},2648:function(t,e,n){function i(t){return new Intl.DateTimeFormat("ru-Ru",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}).format(new Date(parseInt(t))).split(", ")}async function a(t,e,n="POST"){""===e&&(e={});const i="POST"===n?JSON.stringify(e):null,a=await fetch(`https://englishspace-1-g1233964.deta.app/${t}`,{headers:{"Content-Type":"application/json"},method:n,body:i});return!!a.ok&&await a.json()}n.d(e,{W:function(){return a},_:function(){return i}})}},e={};function n(i){var a=e[i];if(void 0!==a)return a.exports;var s=e[i]={exports:{}};return t[i](s,s.exports,n),s.exports}n.m=t,function(){var t=[];n.O=function(e,i,a,s){if(!i){var o=1/0;for(l=0;l<t.length;l++){i=t[l][0],a=t[l][1],s=t[l][2];for(var r=!0,u=0;u<i.length;u++)(!1&s||o>=s)&&Object.keys(n.O).every((function(t){return n.O[t](i[u])}))?i.splice(u--,1):(r=!1,s<o&&(o=s));if(r){t.splice(l--,1);var c=a();void 0!==c&&(e=c)}}return e}s=s||0;for(var l=t.length;l>0&&t[l-1][2]>s;l--)t[l]=t[l-1];t[l]=[i,a,s]}}(),function(){n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,{a:e}),e}}(),function(){n.d=function(t,e){for(var i in e)n.o(e,i)&&!n.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})}}(),function(){n.f={},n.e=function(t){return Promise.all(Object.keys(n.f).reduce((function(e,i){return n.f[i](t,e),e}),[]))}}(),function(){n.u=function(t){return"js/"+t+"."+{15:"5a2162e9",58:"1fdb1156",102:"2fc8cc6b",304:"d8eda656",350:"5f51530d",399:"0ca622b7",404:"dde5f9de",437:"7ac5a59a",567:"b751214a",584:"1ad634bc",597:"587ae016",612:"0facd34b",621:"e0b5f27d",729:"ff1a7adb",732:"0909abfc",770:"63eea697",811:"b1c80953",873:"4dc11217",980:"83d5c67a"}[t]+".js"}}(),function(){n.miniCssF=function(t){return"css/"+t+"."+{15:"8a3baee2",58:"eaf2e662",102:"20e5597e",350:"824362e4",399:"52d3a1cb",404:"3e5c97f9",437:"a26468ea",567:"80d9efa4",597:"7939bcaf",612:"d4de6065",621:"9161a3f5",732:"6a3d41e7",770:"d69019e2",811:"d311305b",873:"6c410be2",980:"3f8b378e"}[t]+".css"}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={},e="english_test_home:";n.l=function(i,a,s,o){if(t[i])t[i].push(a);else{var r,u;if(void 0!==s)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var m=c[l];if(m.getAttribute("src")==i||m.getAttribute("data-webpack")==e+s){r=m;break}}r||(u=!0,r=document.createElement("script"),r.charset="utf-8",r.timeout=120,n.nc&&r.setAttribute("nonce",n.nc),r.setAttribute("data-webpack",e+s),r.src=i),t[i]=[a];var f=function(e,n){r.onerror=r.onload=null,clearTimeout(d);var a=t[i];if(delete t[i],r.parentNode&&r.parentNode.removeChild(r),a&&a.forEach((function(t){return t(n)})),e)return e(n)},d=setTimeout(f.bind(null,void 0,{type:"timeout",target:r}),12e4);r.onerror=f.bind(null,r.onerror),r.onload=f.bind(null,r.onload),u&&document.head.appendChild(r)}}}(),function(){n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){n.p="/english_test_home/"}(),function(){var t=function(t,e,n,i){var a=document.createElement("link");a.rel="stylesheet",a.type="text/css";var s=function(s){if(a.onerror=a.onload=null,"load"===s.type)n();else{var o=s&&("load"===s.type?"missing":s.type),r=s&&s.target&&s.target.href||e,u=new Error("Loading CSS chunk "+t+" failed.\n("+r+")");u.code="CSS_CHUNK_LOAD_FAILED",u.type=o,u.request=r,a.parentNode.removeChild(a),i(u)}};return a.onerror=a.onload=s,a.href=e,document.head.appendChild(a),a},e=function(t,e){for(var n=document.getElementsByTagName("link"),i=0;i<n.length;i++){var a=n[i],s=a.getAttribute("data-href")||a.getAttribute("href");if("stylesheet"===a.rel&&(s===t||s===e))return a}var o=document.getElementsByTagName("style");for(i=0;i<o.length;i++){a=o[i],s=a.getAttribute("data-href");if(s===t||s===e)return a}},i=function(i){return new Promise((function(a,s){var o=n.miniCssF(i),r=n.p+o;if(e(o,r))return a();t(i,r,a,s)}))},a={826:0,596:0};n.f.miniCss=function(t,e){var n={15:1,58:1,102:1,350:1,399:1,404:1,437:1,567:1,597:1,612:1,621:1,732:1,770:1,811:1,873:1,980:1};a[t]?e.push(a[t]):0!==a[t]&&n[t]&&e.push(a[t]=i(t).then((function(){a[t]=0}),(function(e){throw delete a[t],e})))}}(),function(){var t={826:0,596:0};n.f.j=function(e,i){var a=n.o(t,e)?t[e]:void 0;if(0!==a)if(a)i.push(a[2]);else{var s=new Promise((function(n,i){a=t[e]=[n,i]}));i.push(a[2]=s);var o=n.p+n.u(e),r=new Error,u=function(i){if(n.o(t,e)&&(a=t[e],0!==a&&(t[e]=void 0),a)){var s=i&&("load"===i.type?"missing":i.type),o=i&&i.target&&i.target.src;r.message="Loading chunk "+e+" failed.\n("+s+": "+o+")",r.name="ChunkLoadError",r.type=s,r.request=o,a[1](r)}};n.l(o,u,"chunk-"+e,e)}},n.O.j=function(e){return 0===t[e]};var e=function(e,i){var a,s,o=i[0],r=i[1],u=i[2],c=0;if(o.some((function(e){return 0!==t[e]}))){for(a in r)n.o(r,a)&&(n.m[a]=r[a]);if(u)var l=u(n)}for(e&&e(i);c<o.length;c++)s=o[c],n.o(t,s)&&t[s]&&t[s][0](),t[s]=0;return n.O(l)},i=self["webpackChunkenglish_test_home"]=self["webpackChunkenglish_test_home"]||[];i.forEach(e.bind(null,0)),i.push=e.bind(null,i.push.bind(i))}();var i=n.O(void 0,[998],(function(){return n(8253)}));i=n.O(i)})();