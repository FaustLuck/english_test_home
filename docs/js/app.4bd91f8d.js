(function(){"use strict";var t={2021:function(t,e,i){i.d(e,{I:function(){return We},u:function(){return Ye}});var n=i(9242),s=i(3396),a=i.p+"img/settings.e5d69969.svg",r=i.p+"img/statistic.599363b6.svg";const o=t=>((0,s.dD)("data-v-032ef04c"),t=t(),(0,s.Cn)(),t),c={class:"container__menu"},l={class:"menu"},d=o((()=>(0,s._)("img",{src:a,alt:"Настройки"},null,-1))),u=o((()=>(0,s._)("img",{src:r,alt:"Статистика"},null,-1)));function h(t,e,i,n,a,r){const o=(0,s.up)("router-link"),h=(0,s.up)("login-button"),g=(0,s.up)("router-view");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",c,[(0,s._)("nav",l,[t.admin?((0,s.wg)(),(0,s.j4)(o,{key:0,title:"Настройки",to:"/settings"},{default:(0,s.w5)((()=>[d])),_:1})):(0,s.kq)("",!0),t.login?((0,s.wg)(),(0,s.j4)(o,{key:1,title:"Статистика",to:"/statistic"},{default:(0,s.w5)((()=>[u])),_:1})):(0,s.kq)("",!0),(0,s.Wm)(h,{onClick:r.loginMe},null,8,["onClick"])])]),(0,s._)("form",null,[(0,s.Wm)(g)])],64)}const g=["title"],m=["src"];function p(t,e,i,n,a,r){return(0,s.wg)(),(0,s.iD)("a",{title:t.displayName},[(0,s._)("img",{src:t.photoURL,alt:"Аватар"},null,8,m)],8,g)}var f=i(65),w={name:"LoginButton",computed:{...(0,f.rn)("authorization",["displayName","photoURL"])}},v=i(89);const y=(0,v.Z)(w,[["render",p],["__scopeId","data-v-55aff130"]]);var _=y,k={components:{LoginButton:_},computed:{...(0,f.rn)("authorization",["admin","login"])},async created(){await this.$store.dispatch("authorization/restoreLogin")},methods:{async loginMe(){this.login||await this.$store.dispatch("authorization/login")}}};const S=(0,v.Z)(k,[["render",h],["__scopeId","data-v-032ef04c"]]);var x=S,b=i(678),I=i(7139);const D=t=>((0,s.dD)("data-v-a7ac69ee"),t=t(),(0,s.Cn)(),t),T=D((()=>(0,s._)("div",null,null,-1))),C={key:0};function R(t,e,i,n,a,r){const o=(0,s.up)("loader-spinner"),c=(0,s.up)("start-button"),l=(0,s.up)("card-item");return a.loading?((0,s.wg)(),(0,s.j4)(o,{key:0})):((0,s.wg)(),(0,s.iD)("div",{key:1,class:(0,I.C_)({fail:0===a.timerSec})},[(0,s._)("header",{class:(0,I.C_)({warning:a.timerSec>10&&a.timerSec<31,alert:a.timerSec<11&&a.timerSec>0})},[(0,s.Wm)(c),(0,s._)("span",null,(0,I.zw)(a.timerString),1),T],2),t.readyToTest?((0,s.wg)(),(0,s.iD)("div",C,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t.settings.order,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(a.test[t],((e,i)=>((0,s.wg)(),(0,s.iD)("div",{key:e},[(0,s.Wm)(l,{index:i,item:e,mode:"test",difficult:t,onUpdateAnswers:r.updateAnswers},null,8,["index","item","difficult","onUpdateAnswers"])])))),128))])))),128))])):(0,s.kq)("",!0)],2))}const q={class:"card"},O={class:"card__item_container"},A={key:0,class:"voice"},j=["readonly"],$={key:0,class:"card__item"},V=["name","value","checked","disabled"],U=["onClick","value"],z={key:1,class:"card__item"},E={class:"card__item_container"},M=["readonly"];function L(t,e,i,a,r,o){const c=(0,s.up)("tool-menu");return(0,s.wg)(),(0,s.iD)("div",q,[(0,s._)("div",{class:"card__item",onClick:e[1]||(e[1]=(...t)=>o.toSpeech&&o.toSpeech(...t))},[(0,s._)("div",O,["test"===i.mode?((0,s.wg)(),(0,s.iD)("a",A,"🔉")):(0,s.kq)("",!0),(0,s.wy)((0,s._)("input",{class:(0,I.C_)({voice:"test"===i.mode,editing:r.editing}),type:"text",readonly:!r.editing,"onUpdate:modelValue":e[0]||(e[0]=t=>r.question=t)},null,10,j),[[n.nr,r.question]])])]),"settings"!==i.mode?((0,s.wg)(),(0,s.iD)("div",$,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.answers,((t,a)=>((0,s.wg)(),(0,s.iD)("div",{class:"card__item_container",key:a},[(0,s.wy)((0,s._)("input",{type:"radio",name:i.difficult+"_"+i.index,value:t,"onUpdate:modelValue":e[2]||(e[2]=t=>r.check=t),checked:"statistic"===i.mode&&t===r.check,disabled:"statistic"===i.mode},null,8,V),[[n.G2,r.check]]),(0,s._)("input",{class:(0,I.C_)({correct:"statistic"===i.mode&&a===r.correctIndex,wrong:"statistic"===i.mode&&a!==r.correctIndex}),type:"text",readonly:"",onClick:e=>r.check=t,value:t},null,10,U)])))),128))])):((0,s.wg)(),(0,s.iD)("div",z,[(0,s._)("div",E,[(0,s.wy)((0,s._)("input",{class:(0,I.C_)({editing:r.editing}),type:"text",readonly:!r.editing,"onUpdate:modelValue":e[3]||(e[3]=t=>r.answers[0]=t)},null,10,M),[[n.nr,r.answers[0]]])])])),"settings"===i.mode?((0,s.wg)(),(0,s.j4)(c,{key:2,newValue:"newValue"===i.index,onEditRecord:e[4]||(e[4]=t=>this.editing=t),onDeleteRecord:e[5]||(e[5]=e=>t.$emit("deleteRecord",i.item)),onChangeRecord:e[6]||(e[6]=e=>{t.$emit("changeRecord",{answers:this.answers,question:this.question,index:this.index}),o.clear()})},null,8,["newValue"])):(0,s.kq)("",!0)])}var N=i(1178);const H={namespaced:!0,state:{statistic:null},mutations:{SAVE_STATISTIC(t,e){t.statistic=e}},actions:{async getStatistic({commit:t},{uid:e,admin:i}){let n=i?"":`${e}/`;const s=(0,N.iH)(Ye,`users/${n}`);let a=await(0,N.U2)(s);if(a.exists()){let n=await a.val();if(i)for(let[t,e]of Object.entries(n))e?.statistic||delete n[t];else{let t={};t[e]=n,n=t}t("SAVE_STATISTIC",n)}},async setStatistic({commit:t,rootGetters:e},{data:i,uid:n}){let[s,a]=e.getTime;if(n){const t=(0,N.iH)(Ye,`users/${n}/statistic/${s}/${a}`);await(0,N.t8)(t,i)}i={[a]:i},t("SAVE_ANSWER",i,{root:!0})}}};var P=i(7301);const Z={namespaced:!0,state:{uid:null,displayName:"Войти с помощью Google",photoURL:i(4966),admin:!1,priveleged:!1,login:!1},mutations:{SAVE_INFO(t,e){t.uid=e.uid,t.displayName=e.displayName,t.photoURL=e.photoURL,t.admin=e.admin||!1,t.priveleged=e.priveleged||!1},LOGIN(t,e){t.login=e}},actions:{async restoreLogin({dispatch:t}){let e=K();e&&await t("getUserInfo",e)},async login({dispatch:t}){const e=new P.hJ;let i=await(0,P.rh)(We,e),n=i.user;await t("getUserInfo",n.uid)||await t("setUserInfo",n),G(n.uid)},async getUserInfo({commit:t},e){const i=(0,N.iH)(Ye,`users/${e}/info`);let n=await(0,N.U2)(i);if(n.exists()){let i=await n.val();return i.uid=e,t("SAVE_INFO",i),t("LOGIN",!0),!0}return!1},async setUserInfo({commit:t},e){const i=(0,N.iH)(Ye,`users/${e.uid}/info/`);await(0,N.t8)(i,{displayName:e.displayName,photoURL:e.photoURL}),t("SAVE_INFO",e),t("LOGIN",!0)}},getters:{getLogin:t=>t.login}},F={namespaced:!0,state:{settings:{order:null,speech:null}},mutations:{SAVE_SETTINGS(t,e){t.settings=e},SAVE_ORDER(t,e){t.settings.order=e}},actions:{async getSettings({commit:t}){const e=(0,N.iH)(Ye,"settings/");let i=await(0,N.U2)(e);if(i.exists()){let e=i.val();return t("SAVE_SETTINGS",e),!0}return console.log("No data available"),!1},async setSettings({commit:t},e){const i=(0,N.iH)(Ye,"settings/");await(0,N.t8)(i,e),t("SAVE_SETTINGS",e)},async getOrder({commit:t,getters:e}){if(e.getOrder?.length>0)return;const i=(0,N.iH)(Ye,"settings/order/");let n=await(0,N.U2)(i);if(n.exists()){let e=n.val();t("SAVE_ORDER",e)}else console.log("No data available")}},getters:{getOrder:t=>t.settings.order,getSpeech:t=>t.settings.speech,getSettings:t=>t}};var Y=(0,f.MT)({state:{answer:null,time:null,date:null,readyToTest:!1},mutations:{SAVE_ANSWER(t,e){t.answer=e,[t.date,t.time]=W()},SET_READY(t,e){t.readyToTest=e}},actions:{changeReady({commit:t},e){t("SET_READY",e)}},getters:{getAnswer:t=>t.answer,getTime:t=>[t.date,t.time]},modules:{statistic:H,authorization:Z,settings:F}});function W(){let t=new Intl.DateTimeFormat("ru-Ru",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}).format(new Date).split(", ");return t[0]=t[0].split(".").reverse().join("-"),t}function G(t){window.localStorage.setItem("uid",t)}function K(){return window.localStorage.getItem("uid")}async function B(t){let e=Y.getters["settings/getSpeech"];try{let i=await fetch(e+t);if(i.ok){let t=await i.blob(),e=URL.createObjectURL(t);const n=new Audio(e);await n.play()}}catch(i){console.log(i)}}function J(t,e){return t.question<e.question?-1:t.question>e.question?1:0}var Q=i.p+"img/edit.71798a50.svg",X=i.p+"img/delete.96103a4e.svg",tt=i.p+"img/done.c0cf71e6.svg";function et(t,e,i,n,a,r){return(0,s.wg)(),(0,s.iD)("div",{class:(0,I.C_)(["tool",{show:a.editing}])},[a.editing?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("img",{key:0,src:Q,onClick:e[0]||(e[0]=t=>r.editRecord(!0)),alt:"Редактировать"})),a.editing?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("img",{key:1,src:X,onClick:e[1]||(e[1]=e=>t.$emit("deleteRecord")),alt:"Удалить"})),a.editing?((0,s.wg)(),(0,s.iD)("img",{key:2,src:tt,onClick:e[2]||(e[2]=e=>{r.editRecord(!1),t.$emit("changeRecord")}),alt:"Готово"})):(0,s.kq)("",!0)],2)}var it={name:"ToolMenu",props:{newValue:Boolean},data(){return{editing:this.newValue}},methods:{editRecord(t){this.editing=this.newValue||t,this.$emit("editRecord",this.editing)}}};const nt=(0,v.Z)(it,[["render",et],["__scopeId","data-v-1809591e"]]);var st=nt,at={name:"CardItem",components:{ToolMenu:st},props:{item:Object,difficult:String,index:[Number,String],mode:{type:String,required:!0}},data(){return{editing:"settings"===this.mode&&"newValue"===this.index,correctIndex:0,answers:[],question:"",check:"",correct:!1}},watch:{check:function(t){if("settings"===this.mode)return;let e=t===this.answers[this.correctIndex],i={question:this.question,answer:[{answer:this.check,correct:e}]};e||i.answer.push(this.answers[this.correctIndex]),this.$emit("updateAnswers",{answer:i,difficult:this.difficult,index:this.index})},answers:{deep:!0,handler(t){let e=/[^а-яА-ЯёЁ.,!?\s]/g;e.exec(t)&&(this.answers[0]=this.answers[0].replaceAll(e,""))}},question:function(t){let e=/[^a-zA-Z.,!?\s]/g;e.exec(t)&&(this.question=t.replaceAll(e,""))}},mounted(){"newValue"!==this.index&&(this.question=this.item.question,this.answers="settings"===this.mode?[this.item.answer]:[...this.item.answer],"settings"!==this.mode&&(this.correctIndex=this.item.answer.findIndex((t=>t instanceof Object)),this.answers[this.correctIndex]=this.answers[this.correctIndex].answer),"statistic"===this.mode&&(this.check=this.item.answer[this.correctIndex].answer,this.correctIndex=this.item.answer.length-1))},methods:{toSpeech(){if("test"===this.mode)return B(this.question)},clear(){"newValue"===this.index&&(this.question="",this.answers[0]="")}}};const rt=(0,v.Z)(at,[["render",L],["__scopeId","data-v-7f3e6dae"]]);var ot=rt;const ct={create:function({order:t,dictionary:e,limits:i,variants:n}){let s={},a={};for(let r of t){let t=e[r],o=i[r],c=dt(t,o).sort(J);a[r]=c.map((t=>({question:t.question,answer:[{answer:"Не выбрано",correct:!1},t.answer]}))),c=lt(o,c,t,n),s[r]=c}return[s,a]},cancel:function(t,e){let i=Object.values(e).reduce(((t,e)=>t+e),0),n=0;return Object.values(t).forEach((t=>{n+=t.reduce(((t,e)=>t+e.answer.length),0)})),n=2*i-n,{answers:t,congratulations:n===i,questions:i,correctAnswers:n}}};function lt(t,e,i,n){for(let s=0;s<t;s++){let t={...e[s]},a=t.answer,r=dt(i.map((t=>t.answer)).filter((t=>t!==a)),n-1);r.push(a),r.sort();let o=r.findIndex((t=>t===a));r[o]={answer:a,correct:!0},t.answer=r,e[s]={...t}}return e}function dt(t,e){let i=[],n=[...t];for(let s=0;s<e;s++){let t=ht(n);i.push(t),n=ut(t,n)}return i}function ut(t,e){return e.filter((e=>t instanceof Object?e.question!==t.question:e!==t))}function ht(t){return t[Math.floor(Math.random()*t.length)]}const gt={key:0},mt=["value"],pt={key:1};function ft(t,e,i,n,a,r){return(0,s.wg)(),(0,s.iD)("header",null,["/"!==a.path?((0,s.wg)(),(0,s.iD)("div",gt)):(0,s.kq)("",!0),(0,s._)("input",{type:"button",value:a.title,onClick:e[0]||(e[0]=(...t)=>r.changeReady&&r.changeReady(...t))},null,8,mt),"/"!==a.path?((0,s.wg)(),(0,s.iD)("div",pt)):(0,s.kq)("",!0)])}var wt={name:"StartButton",data(){return{title:"Начать тест",path:this.$router.currentRoute.value.path}},computed:{...(0,f.rn)(["readyToTest"])},watch:{readyToTest:function(t){this.changeTitle(t)}},methods:{changeReady(){"/"!==this.path?this.$router.push("/"):this.$store.dispatch("changeReady",!this.readyToTest)},changeTitle(t){this.title=t?"Завершить тест":"Начать тест"}}};const vt=(0,v.Z)(wt,[["render",ft],["__scopeId","data-v-f812f27e"]]);var yt=vt,_t={name:"TestPage",components:{CardItem:ot,StartButton:yt},data(){return{timerString:"",timerSec:0,timerStart:0,counterId:"",loading:!0,test:{},answers:{},reason:""}},watch:{timerSec:function(t){this.timerString=this.timeToString(t),t||this.cancelTest()},settings:function(t){t?.timer&&(this.loading=!1,this.timerSec=this.timerStart=60*t.timer.min+t.timer.sec)},readyToTest:function(t){t?this.createTest():this.cancelTest()}},async created(){this.$store.dispatch("settings/getSettings")},computed:{...(0,f.rn)("settings",["settings"]),...(0,f.rn)(["readyToTest"])},methods:{timeToString(t){let e=(t%60).toString().padStart(2,"0"),i=(t-e)/60;return`${i}:${e}`},createTest(){[this.test,this.answers]=ct.create(this.settings),this.timerSec=this.timerStart,this.start()},cancelTest(){clearInterval(this.counterId);let t=ct.cancel(this.answers,this.settings.limits);t.reason=this.timerStart-this.timerSec?"Тест завершен":"Время истекло",t["time spent"]=this.timeToString(this.timerStart-this.timerSec),this.$store.commit("SAVE_ANSWER",t),this.timerSec?this.$router.push("result"):setTimeout((()=>{this.$router.push("result")}),1e4)},start(){this.counterId=setInterval((()=>{this.timerSec--}),1e3)},updateAnswers({answer:t,difficult:e,index:i}){this.answers[e][i]=t}}};const kt=(0,v.Z)(_t,[["render",R],["__scopeId","data-v-a7ac69ee"]]);var St=kt;const xt=t=>((0,s.dD)("data-v-c75aa0e0"),t=t(),(0,s.Cn)(),t),bt={key:1},It=["onClick"],Dt={class:"user__info"},Tt=xt((()=>(0,s._)("span",null,"Имя: ",-1))),Ct={class:"date"};function Rt(t,e,i,n,a,r){const o=(0,s.up)("loader-spinner"),c=(0,s.up)("start-button"),l=(0,s.up)("date-list");return a.loading?((0,s.wg)(),(0,s.j4)(o,{key:0})):((0,s.wg)(),(0,s.iD)("div",bt,[(0,s.Wm)(c),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t.statistic,((t,e)=>((0,s.wg)(),(0,s.iD)("div",{class:(0,I.C_)(["user",{first:t.info?.priveleged}]),key:e,onClick:t=>a.activeUser=e},[(0,s._)("div",Dt,[Tt,(0,s._)("span",Ct,(0,I.zw)(t.info?.displayName),1)]),((0,s.wg)(),(0,s.j4)(s.Ob,null,[a.activeUser===e?((0,s.wg)(),(0,s.j4)(l,{key:0,tests:t.statistic},null,8,["tests"])):(0,s.kq)("",!0)],1024))],10,It)))),128))]))}const qt=t=>((0,s.dD)("data-v-3ace4c03"),t=t(),(0,s.Cn)(),t),Ot=["onClick"],At={class:"tests__info"},jt=qt((()=>(0,s._)("span",null,"Дата теста: ",-1))),$t={class:"date"},Vt={class:"tests__info"},Ut=qt((()=>(0,s._)("span",null,"Количество тестов: ",-1)));function zt(t,e,i,n,a,r){const o=(0,s.up)("test-result");return(0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(a.dateArray,(t=>((0,s.wg)(),(0,s.iD)("div",{class:"tests",key:t.day,onClick:e=>{a.activeDay=t.day,a.testsOfDay=i.tests[t.day]}},[(0,s._)("div",At,[jt,(0,s._)("span",$t,(0,I.zw)(t.output),1)]),(0,s._)("div",Vt,[Ut,(0,s._)("span",null,(0,I.zw)(Object.keys(i.tests[t.day]).length),1)]),((0,s.wg)(),(0,s.j4)(s.Ob,null,[a.activeDay===t.day?((0,s.wg)(),(0,s.j4)(o,{key:0,testsFromParent:a.testsOfDay},null,8,["testsFromParent"])):(0,s.kq)("",!0)],1024))],8,Ot)))),128)}const Et=t=>((0,s.dD)("data-v-2f482b80"),t=t(),(0,s.Cn)(),t),Mt=["onClick"],Lt={class:"test__detail"},Nt=Et((()=>(0,s._)("span",null," Время выполнения теста: ",-1))),Ht={class:"time"},Pt={class:"test__detail"},Zt=Et((()=>(0,s._)("span",null," Затраченное время: ",-1))),Ft={class:"test__detail"},Yt=Et((()=>(0,s._)("span",null," Кол-во верных ответов / вопросов: ",-1))),Wt={class:"test__detail"},Gt=Et((()=>(0,s._)("span",null,"Причина:",-1)));function Kt(t,e,i,n,a,r){const o=(0,s.up)("start-button"),c=(0,s.up)("difficult-list");return(0,s.wg)(),(0,s.iD)(s.HY,null,["/result"===this.$router.currentRoute.value.path?((0,s.wg)(),(0,s.j4)(o,{key:0})):(0,s.kq)("",!0),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(a.tests,((t,e)=>((0,s.wg)(),(0,s.iD)("div",{class:(0,I.C_)(["test",{congratulations:t.congratulations}]),key:e,onClick:t=>a.activeTime=e},[(0,s._)("div",Lt,[Nt,(0,s._)("span",Ht,(0,I.zw)(e),1)]),(0,s._)("div",Pt,[Zt,(0,s._)("span",null,(0,I.zw)(t["time spent"]),1)]),(0,s._)("div",Ft,[Yt,(0,s._)("span",null,(0,I.zw)(t.correctAnswers)+" / "+(0,I.zw)(t.questions),1)]),(0,s._)("div",Wt,[Gt,(0,s._)("span",null,(0,I.zw)(t.reason),1)]),((0,s.wg)(),(0,s.j4)(s.Ob,null,[a.activeTime===e?((0,s.wg)(),(0,s.j4)(c,{key:0,difficults:t.answers,congratulations:t.congratulations},null,8,["difficults","congratulations"])):(0,s.kq)("",!0)],1024))],10,Mt)))),128))],64)}function Bt(t,e,i,n,a,r){const o=(0,s.up)("card-item");return(0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.order,(t=>((0,s.wg)(),(0,s.iD)("div",{class:"difficult",key:t},[(0,s._)("div",{class:(0,I.C_)(["difficult__item",{congratulations:i.congratulations}])},[(0,s._)("span",null,(0,I.zw)(t),1)],2),((0,s.wg)(),(0,s.j4)(s.Ob,null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.difficults[t],((e,i)=>((0,s.wg)(),(0,s.j4)(o,{key:e.question,item:e,index:i,difficult:t,mode:"statistic"},null,8,["item","index","difficult"])))),128))],1024))])))),128)}var Jt={components:{CardItem:ot},name:"DifficultList",props:{difficults:Object,congratulations:{type:Boolean,default:!1,required:!0}},computed:{order(){return this.$store.getters["settings/getOrder"]}},created(){this.$store.dispatch("settings/getOrder")}};const Qt=(0,v.Z)(Jt,[["render",Bt],["__scopeId","data-v-23f5bf5d"]]);var Xt=Qt,te={name:"TestResult",components:{StartButton:yt,DifficultList:Xt},props:{testsFromParent:{type:Object,default:void 0}},data(){return{activeTime:"",tests:[],timerId:0}},computed:{...(0,f.rn)("authorization",["login","uid"])},watch:{login:function(){return this.saveStatistic()}},created(){if(this.login&&this.saveStatistic(),void 0===this.testsFromParent){let t=this.$store.getters.getTime[1];this.tests=this.$store.getters.getAnswer;let e={};e[t]={...this.tests},this.tests=e,this.activeTime=Object.keys(this.tests)[0],this.tests[this.activeTime].congratulations&&this.toWait()}else this.tests=this.testsFromParent},methods:{toWait(){this.timerId=setTimeout((()=>{this.$router.push("fireshow")}),5e3)},saveStatistic(){if(!this.login)return;let t=this.$store.getters.getAnswer;this.$store.dispatch("statistic/setStatistic",{data:t,uid:this.uid})}}};const ee=(0,v.Z)(te,[["render",Kt],["__scopeId","data-v-2f482b80"]]);var ie=ee,ne={name:"StatisticPage",components:{TestResult:ie},props:{tests:Object},data(){return{loading:!0,activeDay:"",testsOfDay:{},dateArray:[]}},async mounted(){this.dateArray=Object.keys(this.tests).reverse(),this.prepareDate()},methods:{prepareDate(){for(let t=0;t<this.dateArray.length;t++){let e=this.dateArray[t];e={day:e,output:e.split("-").reverse().join(".")},this.dateArray[t]=e}}}};const se=(0,v.Z)(ne,[["render",zt],["__scopeId","data-v-3ace4c03"]]);var ae=se,re={name:"StatisticPage",components:{StartButton:yt,DateList:ae},data(){return{activeUser:"",loading:!0}},computed:{...(0,f.rn)("statistic",["statistic"]),...(0,f.rn)("authorization",["uid","admin","login"])},watch:{statistic:function(t){t&&(this.loading=!1)},login:async function(t){t&&await this.$store.dispatch("statistic/getStatistic",{uid:this.uid,admin:this.admin})}},async created(){await this.$store.dispatch("statistic/getStatistic",{uid:this.uid,admin:this.admin})}};const oe=(0,v.Z)(re,[["render",Rt],["__scopeId","data-v-c75aa0e0"]]);var ce=oe;const le=t=>((0,s.dD)("data-v-4b74f408"),t=t(),(0,s.Cn)(),t),de={key:1,class:"settings"},ue={class:"settings__detail"},he=le((()=>(0,s._)("span",null,"Ограничение по времени:",-1))),ge={class:"time"},me=(0,s.Uk)(" : "),pe={class:"settings__detail"},fe=le((()=>(0,s._)("span",null,"Количество вариантов:",-1))),we={class:"difficult"},ve=["onClick"],ye=["onUpdate:modelValue","onInput"],_e={class:"settings__detail update"};function ke(t,e,i,a,r,o){const c=(0,s.up)("loader-spinner"),l=(0,s.up)("card-item");return r.loading?((0,s.wg)(),(0,s.j4)(c,{key:0})):((0,s.wg)(),(0,s.iD)("div",de,[(0,s._)("div",ue,[he,(0,s._)("span",ge,[(0,s.wy)((0,s._)("input",{type:"number","onUpdate:modelValue":e[0]||(e[0]=e=>t.settings.timer.min=e)},null,512),[[n.nr,t.settings.timer.min,void 0,{number:!0}]]),me,(0,s.wy)((0,s._)("input",{type:"number","onUpdate:modelValue":e[1]||(e[1]=e=>t.settings.timer.sec=e),onInput:e[2]||(e[2]=t=>o.checkTime(t.target.value))},null,544),[[n.nr,t.settings.timer.sec,void 0,{number:!0}]])])]),(0,s._)("div",pe,[fe,(0,s._)("span",null,[(0,s.wy)((0,s._)("input",{type:"number","onUpdate:modelValue":e[3]||(e[3]=e=>t.settings.variants=e)},null,512),[[n.nr,t.settings.variants,void 0,{number:!0}]])])]),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t.settings.order,(i=>((0,s.wg)(),(0,s.iD)("div",{key:i},[(0,s._)("div",we,[t.settings.dictionary[i].length?((0,s.wg)(),(0,s.iD)("div",{key:0,class:"settings__detail",onClick:t=>r.activeIndex=i},[(0,s._)("span",null,"Количество вопросов "+(0,I.zw)(i),1),(0,s._)("span",null,[(0,s.wy)((0,s._)("input",{type:"number",onClick:e[4]||(e[4]=(0,n.iM)((()=>{}),["stop"])),"onUpdate:modelValue":e=>t.settings.limits[i]=e,onInput:t=>o.checkCount(t.target.value,i)},null,40,ye),[[n.nr,t.settings.limits[i],void 0,{number:!0}]])])],8,ve)):(0,s.kq)("",!0),((0,s.wg)(),(0,s.j4)(s.Ob,null,[r.activeIndex===i?((0,s.wg)(),(0,s.j4)(l,{key:0,index:"newValue",item:{},mode:"settings",difficult:i,onChangeRecord:o.changeRecord},null,8,["difficult","onChangeRecord"])):(0,s.kq)("",!0)],1024))]),r.activeIndex===i?((0,s.wg)(),(0,s.j4)(s.Ob,{key:0},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t.settings.dictionary[i],((t,e)=>((0,s.wg)(),(0,s.j4)(l,{key:t.question,item:t,index:e,mode:"settings",onDeleteRecord:o.deleteRecord,onChangeRecord:o.changeRecord},null,8,["item","index","onDeleteRecord","onChangeRecord"])))),128))],1024)):(0,s.kq)("",!0)])))),128)),(0,s._)("div",_e,[(0,s._)("input",{type:"button",value:"Сохранить настройки",onClick:e[5]||(e[5]=(...t)=>o.saveData&&o.saveData(...t))})])]))}const Se={add:function(t,e){let i=t.findIndex((t=>t.question===e.question));if(e.answers=e.answers[0],i>-1)return;let n={question:e.question,answer:e.answers};return t.push(n),t.sort(J)},delete:function(t,e){return t.filter((t=>t.question!==e.question))},edit:function(t,e){let i=e.index;return t[i]={question:e.question,answer:e.answers[0]},t}};var xe={name:"SettingsPage",components:{CardItem:ot},data(){return{loading:!0,activeIndex:""}},computed:{...(0,f.rn)("settings",["settings"])},watch:{settings:function(t){t&&(this.loading=!1)}},methods:{checkCount(t,e){let i=this.settings.dictionary[e].length;t>i&&(this.settings.limits[e]=i)},checkTime(t){t>59&&(this.settings.timer.sec=59)},saveData(){this.$store.dispatch("settings/setSettings",this.settings)},deleteRecord(t){this.settings.dictionary[this.activeIndex]=Se["delete"](this.settings.dictionary[this.activeIndex],t)},changeRecord(t){console.log(t),this.settings.dictionary[this.activeIndex]="newValue"===t.index?Se.add(this.settings.dictionary[this.activeIndex],t):Se.edit(this.settings.dictionary[this.activeIndex],t)}},async created(){await this.$store.dispatch("settings/getSettings")}};const be=(0,v.Z)(xe,[["render",ke],["__scopeId","data-v-4b74f408"]]);var Ie=be;const De={ref:"canvas"};function Te(t,e,i,n,a,r){return(0,s.wg)(),(0,s.iD)("canvas",De,null,512)}function Ce(t){t.width=window.innerWidth,t.height=window.innerHeight;const e=t.getContext("2d");window.addEventListener("resize",(()=>{t.width=window.innerWidth,t.height=window.innerHeight,e.fillStyle="#000",e.fillRect(0,0,t.width,t.height)})),e.fillStyle="#000",e.fillRect(0,0,t.width,t.height);let i=[],n=[],s=20,a={x:t.width/2,y:t.height/2},r=400;for(let d=0;d<s;d++){let e={x:Math.random()*r/2-r/4+a.x,y:Math.random()*r*2+t.height,size:Math.random()+.5,fill:"#fd1",vx:Math.random()-.5,vy:-(Math.random()+4),ax:.02*Math.random()-.01,far:Math.random()*r+(a.y-r)};e.base={x:e.x,y:e.y,vx:e.vx},i.push(e)}function o(){let t=Math.floor(256*Math.random()),e=Math.floor(256*Math.random()),i=Math.floor(256*Math.random());return`rgb(${t},${e},${i}`}function c(){for(let t=0;t<i.length;t++){let e=i[t];if(e.y<=e.far){let t=o();for(let i=0;i<5*s;i++){let i={x:e.x,y:e.y,size:Math.random()+1.5,fill:t,vx:5*Math.random()-2.5,vy:-5*Math.random()+1.5,ay:.05,alpha:1,life:Math.round(Math.random()*r/2)+r/2};i.base={life:i.life,size:i.size},n.push(i)}e.y=e.base.y,e.x=e.base.x,e.vx=e.base.vx,e.ax=.02*Math.random()-.01}e.x+=e.vx,e.y+=e.vy,e.vx+=e.ax}for(let t=n.length-1;t>=0;t--){let e=n[t];e&&(e.x+=e.vx,e.y+=e.vy,e.vy+=e.ay,e.alpha=e.life/e.base.life,e.size=e.alpha*e.base.size,e.alpha=e.alpha>.6?1:e.alpha,e.life--,e.life<=0&&n.splice(t,1))}}function l(){e.globalCompositeOperation="source-over",e.globalAlpha=.18,e.fillStyle="#000",e.fillRect(0,0,t.width,t.height),e.globalCompositeOperation="screen",e.globalAlpha=1;for(let t=0;t<i.length;t++){let n=i[t];e.beginPath(),e.arc(n.x,n.y,n.size,0,2*Math.PI),e.closePath(),e.fillStyle=n.fill,e.fill()}for(let t=0;t<n.length;t++){let i=n[t];e.globalAlpha=i.alpha,e.beginPath(),e.arc(i.x,i.y,i.size,0,2*Math.PI),e.closePath(),e.fillStyle=i.fill,e.fill()}}(function t(){requestAnimationFrame(t),c(),l()})()}var Re={name:"FireshowPage",mounted(){let t=this.$refs.canvas;Ce(t)}};const qe=(0,v.Z)(Re,[["render",Te],["__scopeId","data-v-b6a106d4"]]);var Oe=qe;const Ae=[{path:"/",name:"test",component:St},{path:"/statistic",name:"statistic",component:ce},{path:"/settings",name:"settings",component:Ie},{path:"/result",name:"result",component:ie},{path:"/fireshow",name:"fireshow",component:Oe}],je=(0,b.p7)({history:(0,b.PO)("/english_test_home/"),routes:Ae});var $e=je;const Ve=t=>((0,s.dD)("data-v-74f4ed4c"),t=t(),(0,s.Cn)(),t),Ue={class:"container__preloader"},ze=Ve((()=>(0,s._)("div",{class:"preloader"},[(0,s._)("div",{class:"outer circle"},[(0,s._)("div",{class:"spinner"})]),(0,s._)("div",{class:"inner circle"})],-1))),Ee=[ze];function Me(t,e,i,n,a,r){return(0,s.wg)(),(0,s.iD)("div",Ue,Ee)}var Le={name:"LoaderSpinner"};const Ne=(0,v.Z)(Le,[["render",Me],["__scopeId","data-v-74f4ed4c"]]);var He=Ne,Pe=i(4275);const Ze={apiKey:"AIzaSyCLchFcQWRGJxElVnI0Cv7JGgAvrC8yDZ4",authDomain:"english-test-home.firebaseapp.com",projectId:"english-test-home",storageBucket:"english-test-zhome.appspot.com",messagingSenderId:"223596466893",appId:"1:223596466893:web:bafc299ab7409de7cccf84"},Fe=(0,Pe.ZF)(Ze),Ye=(0,N.N8)(Fe),We=(0,P.v0)(Fe);(0,n.ri)(x).use(Y).use($e).component("LoaderSpinner",He).mount("#app")},4966:function(t,e,i){t.exports=i.p+"img/google.df5d4159.svg"}},e={};function i(n){var s=e[n];if(void 0!==s)return s.exports;var a=e[n]={exports:{}};return t[n](a,a.exports,i),a.exports}i.m=t,function(){var t=[];i.O=function(e,n,s,a){if(!n){var r=1/0;for(d=0;d<t.length;d++){n=t[d][0],s=t[d][1],a=t[d][2];for(var o=!0,c=0;c<n.length;c++)(!1&a||r>=a)&&Object.keys(i.O).every((function(t){return i.O[t](n[c])}))?n.splice(c--,1):(o=!1,a<r&&(r=a));if(o){t.splice(d--,1);var l=s();void 0!==l&&(e=l)}}return e}a=a||0;for(var d=t.length;d>0&&t[d-1][2]>a;d--)t[d]=t[d-1];t[d]=[n,s,a]}}(),function(){i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,{a:e}),e}}(),function(){i.d=function(t,e){for(var n in e)i.o(e,n)&&!i.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})}}(),function(){i.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){i.p="/english_test_home/"}(),function(){var t={143:0};i.O.j=function(e){return 0===t[e]};var e=function(e,n){var s,a,r=n[0],o=n[1],c=n[2],l=0;if(r.some((function(e){return 0!==t[e]}))){for(s in o)i.o(o,s)&&(i.m[s]=o[s]);if(c)var d=c(i)}for(e&&e(n);l<r.length;l++)a=r[l],i.o(t,a)&&t[a]&&t[a][0](),t[a]=0;return i.O(d)},n=self["webpackChunkenglish_test_home"]=self["webpackChunkenglish_test_home"]||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))}();var n=i.O(void 0,[998],(function(){return i(2021)}));n=i.O(n)})();
//# sourceMappingURL=app.4bd91f8d.js.map